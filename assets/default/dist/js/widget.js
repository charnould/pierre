var G=!1,I,J;document.addEventListener("DOMContentLoaded",()=>{let j=document.createElement("style");j.innerText="#pierre-ia{margin:0;z-index:9997;cursor:pointer;font-family:system-ui,Segoe UI,Roboto,Ubuntu,Helvetica Neue,sans-serif;transition:transform .5s cubic-bezier(.215, .61, .355, 1);position:fixed}#pierre-ia:hover{transform:scale(1.15)}#pierre-wrapper{z-index:9998;justify-content:center;align-items:center;width:100%;height:100%;display:flex;position:fixed;top:0;left:0}#pierre-iframe-container{position:relative}#pierre-iframe{z-index:9999;border-radius:10px;width:600px;border:none;height:700px;box-shadow:0 0 500px rgba(0,0,0,.9),0 0 50px rgba(0,0,0,.25),0 0 25px rgba(0,0,0,.1);will-change:transform}#pierre-close{display:none;font-size:24px;padding:0;margin:0;cursor:pointer;z-index:9999;position:absolute;top:24px;right:24px}.blur_in{animation:.4s forwards blur_in}.blur_out{animation:.35s forwards blur_out}.open_modal{animation:.2s forwards open_modal}.close_modal{animation:.35s forwards close_modal}@keyframes blur_in{from{backdrop-filter:blur(0px)}to{backdrop-filter:blur(8px)}}@keyframes blur_out{from{backdrop-filter:blur(8px)}to{backdrop-filter:none}}@keyframes open_modal{0%,60%,to{animation-timing-function:cubic-bezier(0.215,0.61,0.355,1)}0%{opacity:0;transform:scale3d(0,0,0)}60%{opacity:.6;transform:scale3d(1.075,1.075,1.075)}to{opacity:1;transform:scale3d(1,1,1)}}@keyframes close_modal{from{opacity:1}to{opacity:0}}@media (max-width:600px){#pierre-iframe{box-shadow:none;border-radius:0;width:100vw;height:100vh}#pierre-close{display:block}}",document.head.appendChild(j);let q=document.getElementById("pierre-ia");I=q?.dataset.configuration??"default",J=q?.dataset.url??"https://assistant.pierre-ia.org";let z=document.createElement("iframe");z.src=`${J}/?config=${I}`,z.style.display="none",z.id="pierre-iframe",document.body.appendChild(z)});document.addEventListener("click",(j)=>{if(!document.getElementById("pierre-ia"))return;if(j.target?.id==="pierre-ia"){let z=document.createElement("div");z.id="pierre-wrapper",z.className="blur_in";let E=document.createElement("div");E.id="pierre-iframe-container";let B=document.getElementById("pierre-iframe");if(!B)return;B.style.display="unset",B.className="open_modal";let F=document.createElement("p");F.id="pierre-close",F.textContent="âœ•",E.append(F,B),z.appendChild(E),document.body.appendChild(z),G=!0}if(j.target?.id==="pierre-wrapper"||j.target?.id==="pierre-close")K()});document.addEventListener("keydown",(j)=>{if(G&&j.key==="Escape")K()});var K=()=>{document.getElementById("pierre-close")?.remove();let j=document.getElementById("pierre-wrapper"),q=document.getElementById("pierre-iframe");if(!j||!q)return;j.className="blur_out",q.className="close_modal",setTimeout(()=>{q.style.display="none",q.className="",document.body.appendChild(q),j.remove(),G=!1},350)};
