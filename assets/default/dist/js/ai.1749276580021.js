/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */var{entries:J0,setPrototypeOf:lQ,isFrozen:d0,getPrototypeOf:i0,getOwnPropertyDescriptor:l0}=Object,{freeze:g,seal:u,create:Q0}=Object,{apply:XQ,construct:YQ}=typeof Reflect!=="undefined"&&Reflect;if(!g)g=function Q(J){return J};if(!u)u=function Q(J){return J};if(!XQ)XQ=function Q(J,q,K){return J.apply(q,K)};if(!YQ)YQ=function Q(J,q){return new J(...q)};var xJ=N(Array.prototype.forEach),c0=N(Array.prototype.lastIndexOf),cQ=N(Array.prototype.pop),GJ=N(Array.prototype.push),s0=N(Array.prototype.splice),AJ=N(String.prototype.toLowerCase),qQ=N(String.prototype.toString),sQ=N(String.prototype.match),UJ=N(String.prototype.replace),a0=N(String.prototype.indexOf),o0=N(String.prototype.trim),m=N(Object.prototype.hasOwnProperty),A=N(RegExp.prototype.test),wJ=n0(TypeError);function N(Q){return function(J){if(J instanceof RegExp)J.lastIndex=0;for(var q=arguments.length,K=new Array(q>1?q-1:0),Z=1;Z<q;Z++)K[Z-1]=arguments[Z];return XQ(Q,J,K)}}function n0(Q){return function(){for(var J=arguments.length,q=new Array(J),K=0;K<J;K++)q[K]=arguments[K];return YQ(Q,q)}}function w(Q,J){let q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:AJ;if(lQ)lQ(Q,null);let K=J.length;while(K--){let Z=J[K];if(typeof Z==="string"){let V=q(Z);if(V!==Z){if(!d0(J))J[K]=V;Z=V}}Q[Z]=!0}return Q}function r0(Q){for(let J=0;J<Q.length;J++)if(!m(Q,J))Q[J]=null;return Q}function l(Q){let J=Q0(null);for(let[q,K]of J0(Q))if(m(Q,q))if(Array.isArray(K))J[q]=r0(K);else if(K&&typeof K==="object"&&K.constructor===Object)J[q]=l(K);else J[q]=K;return J}function HJ(Q,J){while(Q!==null){let K=l0(Q,J);if(K){if(K.get)return N(K.get);if(typeof K.value==="function")return N(K.value)}Q=i0(Q)}function q(){return null}return q}var aQ=g(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ZQ=g(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),KQ=g(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),t0=g(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),$Q=g(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),e0=g(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),oQ=g(["#text"]),nQ=g(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),VQ=g(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),rQ=g(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),LJ=g(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),J1=u(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Q1=u(/<%[\w\W]*|[\w\W]*%>/gm),q1=u(/\$\{[\w\W]*/gm),Z1=u(/^data-[\-\w.\u00B7-\uFFFF]+$/),K1=u(/^aria-[\-\w]+$/),q0=u(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),$1=u(/^(?:\w+script|data):/i),V1=u(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Z0=u(/^html$/i),X1=u(/^[a-z][.\w]*(-[.\w]+)+$/i),tQ=Object.freeze({__proto__:null,ARIA_ATTR:K1,ATTR_WHITESPACE:V1,CUSTOM_ELEMENT:X1,DATA_ATTR:Z1,DOCTYPE_NAME:Z0,ERB_EXPR:Q1,IS_ALLOWED_URI:q0,IS_SCRIPT_OR_DATA:$1,MUSTACHE_EXPR:J1,TMPLIT_EXPR:q1}),FJ={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},Y1=function Q(){return typeof window==="undefined"?null:window},j1=function Q(J,q){if(typeof J!=="object"||typeof J.createPolicy!=="function")return null;let K=null,Z="data-tt-policy-suffix";if(q&&q.hasAttribute(Z))K=q.getAttribute(Z);let V="dompurify"+(K?"#"+K:"");try{return J.createPolicy(V,{createHTML(X){return X},createScriptURL(X){return X}})}catch(X){return console.warn("TrustedTypes policy "+V+" could not be created."),null}},eQ=function Q(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function K0(){let Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Y1(),J=(G)=>K0(G);if(J.version="3.2.6",J.removed=[],!Q||!Q.document||Q.document.nodeType!==FJ.document||!Q.Element)return J.isSupported=!1,J;let{document:q}=Q,K=q,Z=K.currentScript,{DocumentFragment:V,HTMLTemplateElement:X,Node:Y,Element:B,NodeFilter:z,NamedNodeMap:U=Q.NamedNodeMap||Q.MozNamedAttrMap,HTMLFormElement:C,DOMParser:F,trustedTypes:D}=Q,H=B.prototype,h=HJ(H,"cloneNode"),DJ=HJ(H,"remove"),YJ=HJ(H,"nextSibling"),MJ=HJ(H,"childNodes"),a=HJ(H,"parentNode");if(typeof X==="function"){let G=q.createElement("template");if(G.content&&G.content.ownerDocument)q=G.content.ownerDocument}let P,o="",{implementation:n,createNodeIterator:r,createDocumentFragment:h0,getElementsByTagName:S0}=q,{importNode:y0}=K,L=eQ();J.isSupported=typeof J0==="function"&&typeof a==="function"&&n&&n.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:kJ,ERB_EXPR:dJ,TMPLIT_EXPR:iJ,DATA_ATTR:x0,ARIA_ATTR:L0,IS_SCRIPT_OR_DATA:A0,ATTR_WHITESPACE:CQ,CUSTOM_ELEMENT:g0}=tQ,{IS_ALLOWED_URI:IQ}=tQ,O=null,DQ=w({},[...aQ,...ZQ,...KQ,...$Q,...oQ]),S=null,MQ=w({},[...nQ,...VQ,...rQ,...LJ]),M=Object.seal(Q0(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),jJ=null,lJ=null,RQ=!0,cJ=!0,PQ=!1,OQ=!0,QJ=!1,RJ=!0,t=!1,sJ=!1,aJ=!1,qJ=!1,PJ=!1,OJ=!1,fQ=!0,hQ=!1,N0="user-content-",oJ=!0,zJ=!1,ZJ={},KJ=null,SQ=w({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),yQ=null,xQ=w({},["audio","video","img","source","image","track"]),nJ=null,LQ=w({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),fJ="http://www.w3.org/1998/Math/MathML",hJ="http://www.w3.org/2000/svg",k="http://www.w3.org/1999/xhtml",$J=k,rJ=!1,tJ=null,E0=w({},[fJ,hJ,k],qQ),SJ=w({},["mi","mo","mn","ms","mtext"]),yJ=w({},["annotation-xml"]),_0=w({},["title","style","font","a","script"]),BJ=null,u0=["application/xhtml+xml","text/html"],m0="text/html",f=null,VJ=null,T0=q.createElement("form"),AQ=function G($){return $ instanceof RegExp||$ instanceof Function},eJ=function G(){let $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(VJ&&VJ===$)return;if(!$||typeof $!=="object")$={};if($=l($),BJ=u0.indexOf($.PARSER_MEDIA_TYPE)===-1?m0:$.PARSER_MEDIA_TYPE,f=BJ==="application/xhtml+xml"?qQ:AJ,O=m($,"ALLOWED_TAGS")?w({},$.ALLOWED_TAGS,f):DQ,S=m($,"ALLOWED_ATTR")?w({},$.ALLOWED_ATTR,f):MQ,tJ=m($,"ALLOWED_NAMESPACES")?w({},$.ALLOWED_NAMESPACES,qQ):E0,nJ=m($,"ADD_URI_SAFE_ATTR")?w(l(LQ),$.ADD_URI_SAFE_ATTR,f):LQ,yQ=m($,"ADD_DATA_URI_TAGS")?w(l(xQ),$.ADD_DATA_URI_TAGS,f):xQ,KJ=m($,"FORBID_CONTENTS")?w({},$.FORBID_CONTENTS,f):SQ,jJ=m($,"FORBID_TAGS")?w({},$.FORBID_TAGS,f):l({}),lJ=m($,"FORBID_ATTR")?w({},$.FORBID_ATTR,f):l({}),ZJ=m($,"USE_PROFILES")?$.USE_PROFILES:!1,RQ=$.ALLOW_ARIA_ATTR!==!1,cJ=$.ALLOW_DATA_ATTR!==!1,PQ=$.ALLOW_UNKNOWN_PROTOCOLS||!1,OQ=$.ALLOW_SELF_CLOSE_IN_ATTR!==!1,QJ=$.SAFE_FOR_TEMPLATES||!1,RJ=$.SAFE_FOR_XML!==!1,t=$.WHOLE_DOCUMENT||!1,qJ=$.RETURN_DOM||!1,PJ=$.RETURN_DOM_FRAGMENT||!1,OJ=$.RETURN_TRUSTED_TYPE||!1,aJ=$.FORCE_BODY||!1,fQ=$.SANITIZE_DOM!==!1,hQ=$.SANITIZE_NAMED_PROPS||!1,oJ=$.KEEP_CONTENT!==!1,zJ=$.IN_PLACE||!1,IQ=$.ALLOWED_URI_REGEXP||q0,$J=$.NAMESPACE||k,SJ=$.MATHML_TEXT_INTEGRATION_POINTS||SJ,yJ=$.HTML_INTEGRATION_POINTS||yJ,M=$.CUSTOM_ELEMENT_HANDLING||{},$.CUSTOM_ELEMENT_HANDLING&&AQ($.CUSTOM_ELEMENT_HANDLING.tagNameCheck))M.tagNameCheck=$.CUSTOM_ELEMENT_HANDLING.tagNameCheck;if($.CUSTOM_ELEMENT_HANDLING&&AQ($.CUSTOM_ELEMENT_HANDLING.attributeNameCheck))M.attributeNameCheck=$.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;if($.CUSTOM_ELEMENT_HANDLING&&typeof $.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements==="boolean")M.allowCustomizedBuiltInElements=$.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;if(QJ)cJ=!1;if(PJ)qJ=!0;if(ZJ){if(O=w({},oQ),S=[],ZJ.html===!0)w(O,aQ),w(S,nQ);if(ZJ.svg===!0)w(O,ZQ),w(S,VQ),w(S,LJ);if(ZJ.svgFilters===!0)w(O,KQ),w(S,VQ),w(S,LJ);if(ZJ.mathMl===!0)w(O,$Q),w(S,rQ),w(S,LJ)}if($.ADD_TAGS){if(O===DQ)O=l(O);w(O,$.ADD_TAGS,f)}if($.ADD_ATTR){if(S===MQ)S=l(S);w(S,$.ADD_ATTR,f)}if($.ADD_URI_SAFE_ATTR)w(nJ,$.ADD_URI_SAFE_ATTR,f);if($.FORBID_CONTENTS){if(KJ===SQ)KJ=l(KJ);w(KJ,$.FORBID_CONTENTS,f)}if(oJ)O["#text"]=!0;if(t)w(O,["html","head","body"]);if(O.table)w(O,["tbody"]),delete jJ.tbody;if($.TRUSTED_TYPES_POLICY){if(typeof $.TRUSTED_TYPES_POLICY.createHTML!=="function")throw wJ('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof $.TRUSTED_TYPES_POLICY.createScriptURL!=="function")throw wJ('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');P=$.TRUSTED_TYPES_POLICY,o=P.createHTML("")}else{if(P===void 0)P=j1(D,Z);if(P!==null&&typeof o==="string")o=P.createHTML("")}if(g)g($);VJ=$},gQ=w({},[...ZQ,...KQ,...t0]),NQ=w({},[...$Q,...e0]),p0=function G($){let j=a($);if(!j||!j.tagName)j={namespaceURI:$J,tagName:"template"};let W=AJ($.tagName),I=AJ(j.tagName);if(!tJ[$.namespaceURI])return!1;if($.namespaceURI===hJ){if(j.namespaceURI===k)return W==="svg";if(j.namespaceURI===fJ)return W==="svg"&&(I==="annotation-xml"||SJ[I]);return Boolean(gQ[W])}if($.namespaceURI===fJ){if(j.namespaceURI===k)return W==="math";if(j.namespaceURI===hJ)return W==="math"&&yJ[I];return Boolean(NQ[W])}if($.namespaceURI===k){if(j.namespaceURI===hJ&&!yJ[I])return!1;if(j.namespaceURI===fJ&&!SJ[I])return!1;return!NQ[W]&&(_0[W]||!gQ[W])}if(BJ==="application/xhtml+xml"&&tJ[$.namespaceURI])return!0;return!1},T=function G($){GJ(J.removed,{element:$});try{a($).removeChild($)}catch(j){DJ($)}},XJ=function G($,j){try{GJ(J.removed,{attribute:j.getAttributeNode($),from:j})}catch(W){GJ(J.removed,{attribute:null,from:j})}if(j.removeAttribute($),$==="is")if(qJ||PJ)try{T(j)}catch(W){}else try{j.setAttribute($,"")}catch(W){}},EQ=function G($){let j=null,W=null;if(aJ)$="<remove></remove>"+$;else{let R=sQ($,/^[\r\n\t ]+/);W=R&&R[0]}if(BJ==="application/xhtml+xml"&&$J===k)$='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+$+"</body></html>";let I=P?P.createHTML($):$;if($J===k)try{j=new F().parseFromString(I,BJ)}catch(R){}if(!j||!j.documentElement){j=n.createDocument($J,"template",null);try{j.documentElement.innerHTML=rJ?o:I}catch(R){}}let y=j.body||j.documentElement;if($&&W)y.insertBefore(q.createTextNode(W),y.childNodes[0]||null);if($J===k)return S0.call(j,t?"html":"body")[0];return t?j.documentElement:y},_Q=function G($){return r.call($.ownerDocument||$,$,z.SHOW_ELEMENT|z.SHOW_COMMENT|z.SHOW_TEXT|z.SHOW_PROCESSING_INSTRUCTION|z.SHOW_CDATA_SECTION,null)},JQ=function G($){return $ instanceof C&&(typeof $.nodeName!=="string"||typeof $.textContent!=="string"||typeof $.removeChild!=="function"||!($.attributes instanceof U)||typeof $.removeAttribute!=="function"||typeof $.setAttribute!=="function"||typeof $.namespaceURI!=="string"||typeof $.insertBefore!=="function"||typeof $.hasChildNodes!=="function")},uQ=function G($){return typeof Y==="function"&&$ instanceof Y};function d(G,$,j){xJ(G,(W)=>{W.call(J,$,j,VJ)})}let mQ=function G($){let j=null;if(d(L.beforeSanitizeElements,$,null),JQ($))return T($),!0;let W=f($.nodeName);if(d(L.uponSanitizeElement,$,{tagName:W,allowedTags:O}),RJ&&$.hasChildNodes()&&!uQ($.firstElementChild)&&A(/<[/\w!]/g,$.innerHTML)&&A(/<[/\w!]/g,$.textContent))return T($),!0;if($.nodeType===FJ.progressingInstruction)return T($),!0;if(RJ&&$.nodeType===FJ.comment&&A(/<[/\w]/g,$.data))return T($),!0;if(!O[W]||jJ[W]){if(!jJ[W]&&pQ(W)){if(M.tagNameCheck instanceof RegExp&&A(M.tagNameCheck,W))return!1;if(M.tagNameCheck instanceof Function&&M.tagNameCheck(W))return!1}if(oJ&&!KJ[W]){let I=a($)||$.parentNode,y=MJ($)||$.childNodes;if(y&&I){let R=y.length;for(let _=R-1;_>=0;--_){let i=h(y[_],!0);i.__removalCount=($.__removalCount||0)+1,I.insertBefore(i,YJ($))}}}return T($),!0}if($ instanceof B&&!p0($))return T($),!0;if((W==="noscript"||W==="noembed"||W==="noframes")&&A(/<\/no(script|embed|frames)/i,$.innerHTML))return T($),!0;if(QJ&&$.nodeType===FJ.text){if(j=$.textContent,xJ([kJ,dJ,iJ],(I)=>{j=UJ(j,I," ")}),$.textContent!==j)GJ(J.removed,{element:$.cloneNode()}),$.textContent=j}return d(L.afterSanitizeElements,$,null),!1},TQ=function G($,j,W){if(fQ&&(j==="id"||j==="name")&&((W in q)||(W in T0)))return!1;if(cJ&&!lJ[j]&&A(x0,j));else if(RQ&&A(L0,j));else if(!S[j]||lJ[j])if(pQ($)&&(M.tagNameCheck instanceof RegExp&&A(M.tagNameCheck,$)||M.tagNameCheck instanceof Function&&M.tagNameCheck($))&&(M.attributeNameCheck instanceof RegExp&&A(M.attributeNameCheck,j)||M.attributeNameCheck instanceof Function&&M.attributeNameCheck(j))||j==="is"&&M.allowCustomizedBuiltInElements&&(M.tagNameCheck instanceof RegExp&&A(M.tagNameCheck,W)||M.tagNameCheck instanceof Function&&M.tagNameCheck(W)));else return!1;else if(nJ[j]);else if(A(IQ,UJ(W,CQ,"")));else if((j==="src"||j==="xlink:href"||j==="href")&&$!=="script"&&a0(W,"data:")===0&&yQ[$]);else if(PQ&&!A(A0,UJ(W,CQ,"")));else if(W)return!1;return!0},pQ=function G($){return $!=="annotation-xml"&&sQ($,g0)},kQ=function G($){d(L.beforeSanitizeAttributes,$,null);let{attributes:j}=$;if(!j||JQ($))return;let W={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:S,forceKeepAttr:void 0},I=j.length;while(I--){let y=j[I],{name:R,namespaceURI:_,value:i}=y,WJ=f(R),QQ=i,x=R==="value"?QQ:o0(QQ);if(W.attrName=WJ,W.attrValue=x,W.keepAttr=!0,W.forceKeepAttr=void 0,d(L.uponSanitizeAttribute,$,W),x=W.attrValue,hQ&&(WJ==="id"||WJ==="name"))XJ(R,$),x=N0+x;if(RJ&&A(/((--!?|])>)|<\/(style|title)/i,x)){XJ(R,$);continue}if(W.forceKeepAttr)continue;if(!W.keepAttr){XJ(R,$);continue}if(!OQ&&A(/\/>/i,x)){XJ(R,$);continue}if(QJ)xJ([kJ,dJ,iJ],(iQ)=>{x=UJ(x,iQ," ")});let dQ=f($.nodeName);if(!TQ(dQ,WJ,x)){XJ(R,$);continue}if(P&&typeof D==="object"&&typeof D.getAttributeType==="function")if(_);else switch(D.getAttributeType(dQ,WJ)){case"TrustedHTML":{x=P.createHTML(x);break}case"TrustedScriptURL":{x=P.createScriptURL(x);break}}if(x!==QQ)try{if(_)$.setAttributeNS(_,R,x);else $.setAttribute(R,x);if(JQ($))T($);else cQ(J.removed)}catch(iQ){XJ(R,$)}}d(L.afterSanitizeAttributes,$,null)},k0=function G($){let j=null,W=_Q($);d(L.beforeSanitizeShadowDOM,$,null);while(j=W.nextNode())if(d(L.uponSanitizeShadowNode,j,null),mQ(j),kQ(j),j.content instanceof V)G(j.content);d(L.afterSanitizeShadowDOM,$,null)};return J.sanitize=function(G){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=null,W=null,I=null,y=null;if(rJ=!G,rJ)G="<!-->";if(typeof G!=="string"&&!uQ(G))if(typeof G.toString==="function"){if(G=G.toString(),typeof G!=="string")throw wJ("dirty is not a string, aborting")}else throw wJ("toString is not a function");if(!J.isSupported)return G;if(!sJ)eJ($);if(J.removed=[],typeof G==="string")zJ=!1;if(zJ){if(G.nodeName){let i=f(G.nodeName);if(!O[i]||jJ[i])throw wJ("root node is forbidden and cannot be sanitized in-place")}}else if(G instanceof Y)if(j=EQ("<!---->"),W=j.ownerDocument.importNode(G,!0),W.nodeType===FJ.element&&W.nodeName==="BODY")j=W;else if(W.nodeName==="HTML")j=W;else j.appendChild(W);else{if(!qJ&&!QJ&&!t&&G.indexOf("<")===-1)return P&&OJ?P.createHTML(G):G;if(j=EQ(G),!j)return qJ?null:OJ?o:""}if(j&&aJ)T(j.firstChild);let R=_Q(zJ?G:j);while(I=R.nextNode())if(mQ(I),kQ(I),I.content instanceof V)k0(I.content);if(zJ)return G;if(qJ){if(PJ){y=h0.call(j.ownerDocument);while(j.firstChild)y.appendChild(j.firstChild)}else y=j;if(S.shadowroot||S.shadowrootmode)y=y0.call(K,y,!0);return y}let _=t?j.outerHTML:j.innerHTML;if(t&&O["!doctype"]&&j.ownerDocument&&j.ownerDocument.doctype&&j.ownerDocument.doctype.name&&A(Z0,j.ownerDocument.doctype.name))_="<!DOCTYPE "+j.ownerDocument.doctype.name+`>
`+_;if(QJ)xJ([kJ,dJ,iJ],(i)=>{_=UJ(_,i," ")});return P&&OJ?P.createHTML(_):_},J.setConfig=function(){let G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};eJ(G),sJ=!0},J.clearConfig=function(){VJ=null,sJ=!1},J.isValidAttribute=function(G,$,j){if(!VJ)eJ({});let W=f(G),I=f($);return TQ(W,I,j)},J.addHook=function(G,$){if(typeof $!=="function")return;GJ(L[G],$)},J.removeHook=function(G,$){if($!==void 0){let j=c0(L[G],$);return j===-1?void 0:s0(L[G],j,1)[0]}return cQ(L[G])},J.removeHooks=function(G){L[G]=[]},J.removeAllHooks=function(){L=eQ()},J}var $0=K0();function zQ(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var JJ=zQ();function B0(Q){JJ=Q}var CJ={exec:()=>null};function b(Q,J=""){let q=typeof Q==="string"?Q:Q.source,K={replace:(Z,V)=>{let X=typeof V==="string"?V:V.source;return X=X.replace(E.caret,"$1"),q=q.replace(Z,X),K},getRegex:()=>{return new RegExp(q,J)}};return K}var E={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:(Q)=>new RegExp(`^( {0,3}${Q})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:(Q)=>new RegExp(`^ {0,${Math.min(3,Q-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:(Q)=>new RegExp(`^ {0,${Math.min(3,Q-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:(Q)=>new RegExp(`^ {0,${Math.min(3,Q-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:(Q)=>new RegExp(`^ {0,${Math.min(3,Q-1)}}#`),htmlBeginRegex:(Q)=>new RegExp(`^ {0,${Math.min(3,Q-1)}}<(?:[a-z].*>|!--)`,"i")},z1=/^(?:[ \t]*(?:\n|$))+/,B1=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,W1=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,IJ=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,G1=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,BQ=/(?:[*+-]|\d{1,9}[.)])/,W0=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,G0=b(W0).replace(/bull/g,BQ).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),U1=b(W0).replace(/bull/g,BQ).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),WQ=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,w1=/^[^\n]+/,GQ=/(?!\s*\])(?:\\.|[^\[\]\\])+/,H1=b(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",GQ).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),F1=b(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,BQ).getRegex(),mJ="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",UQ=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,v1=b("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",UQ).replace("tag",mJ).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),U0=b(WQ).replace("hr",IJ).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",mJ).getRegex(),b1=b(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",U0).getRegex(),wQ={blockquote:b1,code:B1,def:H1,fences:W1,heading:G1,hr:IJ,html:v1,lheading:G0,list:F1,newline:z1,paragraph:U0,table:CJ,text:w1},V0=b("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",IJ).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",mJ).getRegex(),C1={...wQ,lheading:U1,table:V0,paragraph:b(WQ).replace("hr",IJ).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",V0).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",mJ).getRegex()},I1={...wQ,html:b(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",UQ).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:CJ,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:b(WQ).replace("hr",IJ).replace("heading",` *#{1,6} *[^
]`).replace("lheading",G0).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},D1=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,M1=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,w0=/^( {2,}|\\)\n(?!\s*$)/,R1=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,TJ=/[\p{P}\p{S}]/u,HQ=/[\s\p{P}\p{S}]/u,H0=/[^\s\p{P}\p{S}]/u,P1=b(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,HQ).getRegex(),F0=/(?!~)[\p{P}\p{S}]/u,O1=/(?!~)[\s\p{P}\p{S}]/u,f1=/(?:[^\s\p{P}\p{S}]|~)/u,h1=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,v0=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,S1=b(v0,"u").replace(/punct/g,TJ).getRegex(),y1=b(v0,"u").replace(/punct/g,F0).getRegex(),b0="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",x1=b(b0,"gu").replace(/notPunctSpace/g,H0).replace(/punctSpace/g,HQ).replace(/punct/g,TJ).getRegex(),L1=b(b0,"gu").replace(/notPunctSpace/g,f1).replace(/punctSpace/g,O1).replace(/punct/g,F0).getRegex(),A1=b("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,H0).replace(/punctSpace/g,HQ).replace(/punct/g,TJ).getRegex(),g1=b(/\\(punct)/,"gu").replace(/punct/g,TJ).getRegex(),N1=b(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),E1=b(UQ).replace("(?:-->|$)","-->").getRegex(),_1=b("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",E1).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),EJ=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,u1=b(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",EJ).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),C0=b(/^!?\[(label)\]\[(ref)\]/).replace("label",EJ).replace("ref",GQ).getRegex(),I0=b(/^!?\[(ref)\](?:\[\])?/).replace("ref",GQ).getRegex(),m1=b("reflink|nolink(?!\\()","g").replace("reflink",C0).replace("nolink",I0).getRegex(),FQ={_backpedal:CJ,anyPunctuation:g1,autolink:N1,blockSkip:h1,br:w0,code:M1,del:CJ,emStrongLDelim:S1,emStrongRDelimAst:x1,emStrongRDelimUnd:A1,escape:D1,link:u1,nolink:I0,punctuation:P1,reflink:C0,reflinkSearch:m1,tag:_1,text:R1,url:CJ},T1={...FQ,link:b(/^!?\[(label)\]\((.*?)\)/).replace("label",EJ).getRegex(),reflink:b(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",EJ).getRegex()},jQ={...FQ,emStrongRDelimAst:L1,emStrongLDelim:y1,url:b(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},p1={...jQ,br:b(w0).replace("{2,}","*").getRegex(),text:b(jQ.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},gJ={normal:wQ,gfm:C1,pedantic:I1},vJ={normal:FQ,gfm:jQ,breaks:p1,pedantic:T1},k1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},X0=(Q)=>k1[Q];function p(Q,J){if(J){if(E.escapeTest.test(Q))return Q.replace(E.escapeReplace,X0)}else if(E.escapeTestNoEncode.test(Q))return Q.replace(E.escapeReplaceNoEncode,X0);return Q}function Y0(Q){try{Q=encodeURI(Q).replace(E.percentDecode,"%")}catch{return null}return Q}function j0(Q,J){let q=Q.replace(E.findPipe,(V,X,Y)=>{let B=!1,z=X;while(--z>=0&&Y[z]==="\\")B=!B;if(B)return"|";else return" |"}),K=q.split(E.splitPipe),Z=0;if(!K[0].trim())K.shift();if(K.length>0&&!K.at(-1)?.trim())K.pop();if(J)if(K.length>J)K.splice(J);else while(K.length<J)K.push("");for(;Z<K.length;Z++)K[Z]=K[Z].trim().replace(E.slashPipe,"|");return K}function bJ(Q,J,q){let K=Q.length;if(K===0)return"";let Z=0;while(Z<K){let V=Q.charAt(K-Z-1);if(V===J&&!q)Z++;else if(V!==J&&q)Z++;else break}return Q.slice(0,K-Z)}function d1(Q,J){if(Q.indexOf(J[1])===-1)return-1;let q=0;for(let K=0;K<Q.length;K++)if(Q[K]==="\\")K++;else if(Q[K]===J[0])q++;else if(Q[K]===J[1]){if(q--,q<0)return K}if(q>0)return-2;return-1}function z0(Q,J,q,K,Z){let V=J.href,X=J.title||null,Y=Q[1].replace(Z.other.outputLinkReplace,"$1");K.state.inLink=!0;let B={type:Q[0].charAt(0)==="!"?"image":"link",raw:q,href:V,title:X,text:Y,tokens:K.inlineTokens(Y)};return K.state.inLink=!1,B}function i1(Q,J,q){let K=Q.match(q.other.indentCodeCompensation);if(K===null)return J;let Z=K[1];return J.split(`
`).map((V)=>{let X=V.match(q.other.beginningSpace);if(X===null)return V;let[Y]=X;if(Y.length>=Z.length)return V.slice(Z.length);return V}).join(`
`)}var _J=class{options;rules;lexer;constructor(Q){this.options=Q||JJ}space(Q){let J=this.rules.block.newline.exec(Q);if(J&&J[0].length>0)return{type:"space",raw:J[0]}}code(Q){let J=this.rules.block.code.exec(Q);if(J){let q=J[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:J[0],codeBlockStyle:"indented",text:!this.options.pedantic?bJ(q,`
`):q}}}fences(Q){let J=this.rules.block.fences.exec(Q);if(J){let q=J[0],K=i1(q,J[3]||"",this.rules);return{type:"code",raw:q,lang:J[2]?J[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):J[2],text:K}}}heading(Q){let J=this.rules.block.heading.exec(Q);if(J){let q=J[2].trim();if(this.rules.other.endingHash.test(q)){let K=bJ(q,"#");if(this.options.pedantic)q=K.trim();else if(!K||this.rules.other.endingSpaceChar.test(K))q=K.trim()}return{type:"heading",raw:J[0],depth:J[1].length,text:q,tokens:this.lexer.inline(q)}}}hr(Q){let J=this.rules.block.hr.exec(Q);if(J)return{type:"hr",raw:bJ(J[0],`
`)}}blockquote(Q){let J=this.rules.block.blockquote.exec(Q);if(J){let q=bJ(J[0],`
`).split(`
`),K="",Z="",V=[];while(q.length>0){let X=!1,Y=[],B;for(B=0;B<q.length;B++)if(this.rules.other.blockquoteStart.test(q[B]))Y.push(q[B]),X=!0;else if(!X)Y.push(q[B]);else break;q=q.slice(B);let z=Y.join(`
`),U=z.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");K=K?`${K}
${z}`:z,Z=Z?`${Z}
${U}`:U;let C=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(U,V,!0),this.lexer.state.top=C,q.length===0)break;let F=V.at(-1);if(F?.type==="code")break;else if(F?.type==="blockquote"){let D=F,H=D.raw+`
`+q.join(`
`),h=this.blockquote(H);V[V.length-1]=h,K=K.substring(0,K.length-D.raw.length)+h.raw,Z=Z.substring(0,Z.length-D.text.length)+h.text;break}else if(F?.type==="list"){let D=F,H=D.raw+`
`+q.join(`
`),h=this.list(H);V[V.length-1]=h,K=K.substring(0,K.length-F.raw.length)+h.raw,Z=Z.substring(0,Z.length-D.raw.length)+h.raw,q=H.substring(V.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:K,tokens:V,text:Z}}}list(Q){let J=this.rules.block.list.exec(Q);if(J){let q=J[1].trim(),K=q.length>1,Z={type:"list",raw:"",ordered:K,start:K?+q.slice(0,-1):"",loose:!1,items:[]};if(q=K?`\\d{1,9}\\${q.slice(-1)}`:`\\${q}`,this.options.pedantic)q=K?q:"[*+-]";let V=this.rules.other.listItemRegex(q),X=!1;while(Q){let B=!1,z="",U="";if(!(J=V.exec(Q)))break;if(this.rules.block.hr.test(Q))break;z=J[0],Q=Q.substring(z.length);let C=J[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,(YJ)=>" ".repeat(3*YJ.length)),F=Q.split(`
`,1)[0],D=!C.trim(),H=0;if(this.options.pedantic)H=2,U=C.trimStart();else if(D)H=J[1].length+1;else H=J[2].search(this.rules.other.nonSpaceChar),H=H>4?1:H,U=C.slice(H),H+=J[1].length;if(D&&this.rules.other.blankLine.test(F))z+=F+`
`,Q=Q.substring(F.length+1),B=!0;if(!B){let YJ=this.rules.other.nextBulletRegex(H),MJ=this.rules.other.hrRegex(H),a=this.rules.other.fencesBeginRegex(H),P=this.rules.other.headingBeginRegex(H),o=this.rules.other.htmlBeginRegex(H);while(Q){let n=Q.split(`
`,1)[0],r;if(F=n,this.options.pedantic)F=F.replace(this.rules.other.listReplaceNesting,"  "),r=F;else r=F.replace(this.rules.other.tabCharGlobal,"    ");if(a.test(F))break;if(P.test(F))break;if(o.test(F))break;if(YJ.test(F))break;if(MJ.test(F))break;if(r.search(this.rules.other.nonSpaceChar)>=H||!F.trim())U+=`
`+r.slice(H);else{if(D)break;if(C.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4)break;if(a.test(C))break;if(P.test(C))break;if(MJ.test(C))break;U+=`
`+F}if(!D&&!F.trim())D=!0;z+=n+`
`,Q=Q.substring(n.length+1),C=r.slice(H)}}if(!Z.loose){if(X)Z.loose=!0;else if(this.rules.other.doubleBlankLine.test(z))X=!0}let h=null,DJ;if(this.options.gfm){if(h=this.rules.other.listIsTask.exec(U),h)DJ=h[0]!=="[ ] ",U=U.replace(this.rules.other.listReplaceTask,"")}Z.items.push({type:"list_item",raw:z,task:!!h,checked:DJ,loose:!1,text:U,tokens:[]}),Z.raw+=z}let Y=Z.items.at(-1);if(Y)Y.raw=Y.raw.trimEnd(),Y.text=Y.text.trimEnd();else return;Z.raw=Z.raw.trimEnd();for(let B=0;B<Z.items.length;B++)if(this.lexer.state.top=!1,Z.items[B].tokens=this.lexer.blockTokens(Z.items[B].text,[]),!Z.loose){let z=Z.items[B].tokens.filter((C)=>C.type==="space"),U=z.length>0&&z.some((C)=>this.rules.other.anyLine.test(C.raw));Z.loose=U}if(Z.loose)for(let B=0;B<Z.items.length;B++)Z.items[B].loose=!0;return Z}}html(Q){let J=this.rules.block.html.exec(Q);if(J)return{type:"html",block:!0,raw:J[0],pre:J[1]==="pre"||J[1]==="script"||J[1]==="style",text:J[0]}}def(Q){let J=this.rules.block.def.exec(Q);if(J){let q=J[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),K=J[2]?J[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",Z=J[3]?J[3].substring(1,J[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):J[3];return{type:"def",tag:q,raw:J[0],href:K,title:Z}}}table(Q){let J=this.rules.block.table.exec(Q);if(!J)return;if(!this.rules.other.tableDelimiter.test(J[2]))return;let q=j0(J[1]),K=J[2].replace(this.rules.other.tableAlignChars,"").split("|"),Z=J[3]?.trim()?J[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],V={type:"table",raw:J[0],header:[],align:[],rows:[]};if(q.length!==K.length)return;for(let X of K)if(this.rules.other.tableAlignRight.test(X))V.align.push("right");else if(this.rules.other.tableAlignCenter.test(X))V.align.push("center");else if(this.rules.other.tableAlignLeft.test(X))V.align.push("left");else V.align.push(null);for(let X=0;X<q.length;X++)V.header.push({text:q[X],tokens:this.lexer.inline(q[X]),header:!0,align:V.align[X]});for(let X of Z)V.rows.push(j0(X,V.header.length).map((Y,B)=>{return{text:Y,tokens:this.lexer.inline(Y),header:!1,align:V.align[B]}}));return V}lheading(Q){let J=this.rules.block.lheading.exec(Q);if(J)return{type:"heading",raw:J[0],depth:J[2].charAt(0)==="="?1:2,text:J[1],tokens:this.lexer.inline(J[1])}}paragraph(Q){let J=this.rules.block.paragraph.exec(Q);if(J){let q=J[1].charAt(J[1].length-1)===`
`?J[1].slice(0,-1):J[1];return{type:"paragraph",raw:J[0],text:q,tokens:this.lexer.inline(q)}}}text(Q){let J=this.rules.block.text.exec(Q);if(J)return{type:"text",raw:J[0],text:J[0],tokens:this.lexer.inline(J[0])}}escape(Q){let J=this.rules.inline.escape.exec(Q);if(J)return{type:"escape",raw:J[0],text:J[1]}}tag(Q){let J=this.rules.inline.tag.exec(Q);if(J){if(!this.lexer.state.inLink&&this.rules.other.startATag.test(J[0]))this.lexer.state.inLink=!0;else if(this.lexer.state.inLink&&this.rules.other.endATag.test(J[0]))this.lexer.state.inLink=!1;if(!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(J[0]))this.lexer.state.inRawBlock=!0;else if(this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(J[0]))this.lexer.state.inRawBlock=!1;return{type:"html",raw:J[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:J[0]}}}link(Q){let J=this.rules.inline.link.exec(Q);if(J){let q=J[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(q)){if(!this.rules.other.endAngleBracket.test(q))return;let V=bJ(q.slice(0,-1),"\\");if((q.length-V.length)%2===0)return}else{let V=d1(J[2],"()");if(V===-2)return;if(V>-1){let Y=(J[0].indexOf("!")===0?5:4)+J[1].length+V;J[2]=J[2].substring(0,V),J[0]=J[0].substring(0,Y).trim(),J[3]=""}}let K=J[2],Z="";if(this.options.pedantic){let V=this.rules.other.pedanticHrefTitle.exec(K);if(V)K=V[1],Z=V[3]}else Z=J[3]?J[3].slice(1,-1):"";if(K=K.trim(),this.rules.other.startAngleBracket.test(K))if(this.options.pedantic&&!this.rules.other.endAngleBracket.test(q))K=K.slice(1);else K=K.slice(1,-1);return z0(J,{href:K?K.replace(this.rules.inline.anyPunctuation,"$1"):K,title:Z?Z.replace(this.rules.inline.anyPunctuation,"$1"):Z},J[0],this.lexer,this.rules)}}reflink(Q,J){let q;if((q=this.rules.inline.reflink.exec(Q))||(q=this.rules.inline.nolink.exec(Q))){let K=(q[2]||q[1]).replace(this.rules.other.multipleSpaceGlobal," "),Z=J[K.toLowerCase()];if(!Z){let V=q[0].charAt(0);return{type:"text",raw:V,text:V}}return z0(q,Z,q[0],this.lexer,this.rules)}}emStrong(Q,J,q=""){let K=this.rules.inline.emStrongLDelim.exec(Q);if(!K)return;if(K[3]&&q.match(this.rules.other.unicodeAlphaNumeric))return;if(!(K[1]||K[2])||!q||this.rules.inline.punctuation.exec(q)){let V=[...K[0]].length-1,X,Y,B=V,z=0,U=K[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;U.lastIndex=0,J=J.slice(-1*Q.length+V);while((K=U.exec(J))!=null){if(X=K[1]||K[2]||K[3]||K[4]||K[5]||K[6],!X)continue;if(Y=[...X].length,K[3]||K[4]){B+=Y;continue}else if(K[5]||K[6]){if(V%3&&!((V+Y)%3)){z+=Y;continue}}if(B-=Y,B>0)continue;Y=Math.min(Y,Y+B+z);let C=[...K[0]][0].length,F=Q.slice(0,V+K.index+C+Y);if(Math.min(V,Y)%2){let H=F.slice(1,-1);return{type:"em",raw:F,text:H,tokens:this.lexer.inlineTokens(H)}}let D=F.slice(2,-2);return{type:"strong",raw:F,text:D,tokens:this.lexer.inlineTokens(D)}}}}codespan(Q){let J=this.rules.inline.code.exec(Q);if(J){let q=J[2].replace(this.rules.other.newLineCharGlobal," "),K=this.rules.other.nonSpaceChar.test(q),Z=this.rules.other.startingSpaceChar.test(q)&&this.rules.other.endingSpaceChar.test(q);if(K&&Z)q=q.substring(1,q.length-1);return{type:"codespan",raw:J[0],text:q}}}br(Q){let J=this.rules.inline.br.exec(Q);if(J)return{type:"br",raw:J[0]}}del(Q){let J=this.rules.inline.del.exec(Q);if(J)return{type:"del",raw:J[0],text:J[2],tokens:this.lexer.inlineTokens(J[2])}}autolink(Q){let J=this.rules.inline.autolink.exec(Q);if(J){let q,K;if(J[2]==="@")q=J[1],K="mailto:"+q;else q=J[1],K=q;return{type:"link",raw:J[0],text:q,href:K,tokens:[{type:"text",raw:q,text:q}]}}}url(Q){let J;if(J=this.rules.inline.url.exec(Q)){let q,K;if(J[2]==="@")q=J[0],K="mailto:"+q;else{let Z;do Z=J[0],J[0]=this.rules.inline._backpedal.exec(J[0])?.[0]??"";while(Z!==J[0]);if(q=J[0],J[1]==="www.")K="http://"+J[0];else K=J[0]}return{type:"link",raw:J[0],text:q,href:K,tokens:[{type:"text",raw:q,text:q}]}}}inlineText(Q){let J=this.rules.inline.text.exec(Q);if(J){let q=this.lexer.state.inRawBlock;return{type:"text",raw:J[0],text:J[0],escaped:q}}}},c=class Q{tokens;options;state;tokenizer;inlineQueue;constructor(J){this.tokens=[],this.tokens.links=Object.create(null),this.options=J||JJ,this.options.tokenizer=this.options.tokenizer||new _J,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let q={other:E,block:gJ.normal,inline:vJ.normal};if(this.options.pedantic)q.block=gJ.pedantic,q.inline=vJ.pedantic;else if(this.options.gfm)if(q.block=gJ.gfm,this.options.breaks)q.inline=vJ.breaks;else q.inline=vJ.gfm;this.tokenizer.rules=q}static get rules(){return{block:gJ,inline:vJ}}static lex(J,q){return new Q(q).lex(J)}static lexInline(J,q){return new Q(q).inlineTokens(J)}lex(J){J=J.replace(E.carriageReturn,`
`),this.blockTokens(J,this.tokens);for(let q=0;q<this.inlineQueue.length;q++){let K=this.inlineQueue[q];this.inlineTokens(K.src,K.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(J,q=[],K=!1){if(this.options.pedantic)J=J.replace(E.tabCharGlobal,"    ").replace(E.spaceLine,"");while(J){let Z;if(this.options.extensions?.block?.some((X)=>{if(Z=X.call({lexer:this},J,q))return J=J.substring(Z.raw.length),q.push(Z),!0;return!1}))continue;if(Z=this.tokenizer.space(J)){J=J.substring(Z.raw.length);let X=q.at(-1);if(Z.raw.length===1&&X!==void 0)X.raw+=`
`;else q.push(Z);continue}if(Z=this.tokenizer.code(J)){J=J.substring(Z.raw.length);let X=q.at(-1);if(X?.type==="paragraph"||X?.type==="text")X.raw+=`
`+Z.raw,X.text+=`
`+Z.text,this.inlineQueue.at(-1).src=X.text;else q.push(Z);continue}if(Z=this.tokenizer.fences(J)){J=J.substring(Z.raw.length),q.push(Z);continue}if(Z=this.tokenizer.heading(J)){J=J.substring(Z.raw.length),q.push(Z);continue}if(Z=this.tokenizer.hr(J)){J=J.substring(Z.raw.length),q.push(Z);continue}if(Z=this.tokenizer.blockquote(J)){J=J.substring(Z.raw.length),q.push(Z);continue}if(Z=this.tokenizer.list(J)){J=J.substring(Z.raw.length),q.push(Z);continue}if(Z=this.tokenizer.html(J)){J=J.substring(Z.raw.length),q.push(Z);continue}if(Z=this.tokenizer.def(J)){J=J.substring(Z.raw.length);let X=q.at(-1);if(X?.type==="paragraph"||X?.type==="text")X.raw+=`
`+Z.raw,X.text+=`
`+Z.raw,this.inlineQueue.at(-1).src=X.text;else if(!this.tokens.links[Z.tag])this.tokens.links[Z.tag]={href:Z.href,title:Z.title};continue}if(Z=this.tokenizer.table(J)){J=J.substring(Z.raw.length),q.push(Z);continue}if(Z=this.tokenizer.lheading(J)){J=J.substring(Z.raw.length),q.push(Z);continue}let V=J;if(this.options.extensions?.startBlock){let X=1/0,Y=J.slice(1),B;if(this.options.extensions.startBlock.forEach((z)=>{if(B=z.call({lexer:this},Y),typeof B==="number"&&B>=0)X=Math.min(X,B)}),X<1/0&&X>=0)V=J.substring(0,X+1)}if(this.state.top&&(Z=this.tokenizer.paragraph(V))){let X=q.at(-1);if(K&&X?.type==="paragraph")X.raw+=`
`+Z.raw,X.text+=`
`+Z.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=X.text;else q.push(Z);K=V.length!==J.length,J=J.substring(Z.raw.length);continue}if(Z=this.tokenizer.text(J)){J=J.substring(Z.raw.length);let X=q.at(-1);if(X?.type==="text")X.raw+=`
`+Z.raw,X.text+=`
`+Z.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=X.text;else q.push(Z);continue}if(J){let X="Infinite loop on byte: "+J.charCodeAt(0);if(this.options.silent){console.error(X);break}else throw new Error(X)}}return this.state.top=!0,q}inline(J,q=[]){return this.inlineQueue.push({src:J,tokens:q}),q}inlineTokens(J,q=[]){let K=J,Z=null;if(this.tokens.links){let Y=Object.keys(this.tokens.links);if(Y.length>0){while((Z=this.tokenizer.rules.inline.reflinkSearch.exec(K))!=null)if(Y.includes(Z[0].slice(Z[0].lastIndexOf("[")+1,-1)))K=K.slice(0,Z.index)+"["+"a".repeat(Z[0].length-2)+"]"+K.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex)}}while((Z=this.tokenizer.rules.inline.anyPunctuation.exec(K))!=null)K=K.slice(0,Z.index)+"++"+K.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);while((Z=this.tokenizer.rules.inline.blockSkip.exec(K))!=null)K=K.slice(0,Z.index)+"["+"a".repeat(Z[0].length-2)+"]"+K.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let V=!1,X="";while(J){if(!V)X="";V=!1;let Y;if(this.options.extensions?.inline?.some((z)=>{if(Y=z.call({lexer:this},J,q))return J=J.substring(Y.raw.length),q.push(Y),!0;return!1}))continue;if(Y=this.tokenizer.escape(J)){J=J.substring(Y.raw.length),q.push(Y);continue}if(Y=this.tokenizer.tag(J)){J=J.substring(Y.raw.length),q.push(Y);continue}if(Y=this.tokenizer.link(J)){J=J.substring(Y.raw.length),q.push(Y);continue}if(Y=this.tokenizer.reflink(J,this.tokens.links)){J=J.substring(Y.raw.length);let z=q.at(-1);if(Y.type==="text"&&z?.type==="text")z.raw+=Y.raw,z.text+=Y.text;else q.push(Y);continue}if(Y=this.tokenizer.emStrong(J,K,X)){J=J.substring(Y.raw.length),q.push(Y);continue}if(Y=this.tokenizer.codespan(J)){J=J.substring(Y.raw.length),q.push(Y);continue}if(Y=this.tokenizer.br(J)){J=J.substring(Y.raw.length),q.push(Y);continue}if(Y=this.tokenizer.del(J)){J=J.substring(Y.raw.length),q.push(Y);continue}if(Y=this.tokenizer.autolink(J)){J=J.substring(Y.raw.length),q.push(Y);continue}if(!this.state.inLink&&(Y=this.tokenizer.url(J))){J=J.substring(Y.raw.length),q.push(Y);continue}let B=J;if(this.options.extensions?.startInline){let z=1/0,U=J.slice(1),C;if(this.options.extensions.startInline.forEach((F)=>{if(C=F.call({lexer:this},U),typeof C==="number"&&C>=0)z=Math.min(z,C)}),z<1/0&&z>=0)B=J.substring(0,z+1)}if(Y=this.tokenizer.inlineText(B)){if(J=J.substring(Y.raw.length),Y.raw.slice(-1)!=="_")X=Y.raw.slice(-1);V=!0;let z=q.at(-1);if(z?.type==="text")z.raw+=Y.raw,z.text+=Y.text;else q.push(Y);continue}if(J){let z="Infinite loop on byte: "+J.charCodeAt(0);if(this.options.silent){console.error(z);break}else throw new Error(z)}}return q}},uJ=class{options;parser;constructor(Q){this.options=Q||JJ}space(Q){return""}code({text:Q,lang:J,escaped:q}){let K=(J||"").match(E.notSpaceStart)?.[0],Z=Q.replace(E.endingNewline,"")+`
`;if(!K)return"<pre><code>"+(q?Z:p(Z,!0))+`</code></pre>
`;return'<pre><code class="language-'+p(K)+'">'+(q?Z:p(Z,!0))+`</code></pre>
`}blockquote({tokens:Q}){return`<blockquote>
${this.parser.parse(Q)}</blockquote>
`}html({text:Q}){return Q}heading({tokens:Q,depth:J}){return`<h${J}>${this.parser.parseInline(Q)}</h${J}>
`}hr(Q){return`<hr>
`}list(Q){let{ordered:J,start:q}=Q,K="";for(let X=0;X<Q.items.length;X++){let Y=Q.items[X];K+=this.listitem(Y)}let Z=J?"ol":"ul",V=J&&q!==1?' start="'+q+'"':"";return"<"+Z+V+`>
`+K+"</"+Z+`>
`}listitem(Q){let J="";if(Q.task){let q=this.checkbox({checked:!!Q.checked});if(Q.loose)if(Q.tokens[0]?.type==="paragraph"){if(Q.tokens[0].text=q+" "+Q.tokens[0].text,Q.tokens[0].tokens&&Q.tokens[0].tokens.length>0&&Q.tokens[0].tokens[0].type==="text")Q.tokens[0].tokens[0].text=q+" "+p(Q.tokens[0].tokens[0].text),Q.tokens[0].tokens[0].escaped=!0}else Q.tokens.unshift({type:"text",raw:q+" ",text:q+" ",escaped:!0});else J+=q+" "}return J+=this.parser.parse(Q.tokens,!!Q.loose),`<li>${J}</li>
`}checkbox({checked:Q}){return"<input "+(Q?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:Q}){return`<p>${this.parser.parseInline(Q)}</p>
`}table(Q){let J="",q="";for(let Z=0;Z<Q.header.length;Z++)q+=this.tablecell(Q.header[Z]);J+=this.tablerow({text:q});let K="";for(let Z=0;Z<Q.rows.length;Z++){let V=Q.rows[Z];q="";for(let X=0;X<V.length;X++)q+=this.tablecell(V[X]);K+=this.tablerow({text:q})}if(K)K=`<tbody>${K}</tbody>`;return`<table>
<thead>
`+J+`</thead>
`+K+`</table>
`}tablerow({text:Q}){return`<tr>
${Q}</tr>
`}tablecell(Q){let J=this.parser.parseInline(Q.tokens),q=Q.header?"th":"td";return(Q.align?`<${q} align="${Q.align}">`:`<${q}>`)+J+`</${q}>
`}strong({tokens:Q}){return`<strong>${this.parser.parseInline(Q)}</strong>`}em({tokens:Q}){return`<em>${this.parser.parseInline(Q)}</em>`}codespan({text:Q}){return`<code>${p(Q,!0)}</code>`}br(Q){return"<br>"}del({tokens:Q}){return`<del>${this.parser.parseInline(Q)}</del>`}link({href:Q,title:J,tokens:q}){let K=this.parser.parseInline(q),Z=Y0(Q);if(Z===null)return K;Q=Z;let V='<a href="'+Q+'"';if(J)V+=' title="'+p(J)+'"';return V+=">"+K+"</a>",V}image({href:Q,title:J,text:q,tokens:K}){if(K)q=this.parser.parseInline(K,this.parser.textRenderer);let Z=Y0(Q);if(Z===null)return p(q);Q=Z;let V=`<img src="${Q}" alt="${q}"`;if(J)V+=` title="${p(J)}"`;return V+=">",V}text(Q){return"tokens"in Q&&Q.tokens?this.parser.parseInline(Q.tokens):("escaped"in Q)&&Q.escaped?Q.text:p(Q.text)}},vQ=class{strong({text:Q}){return Q}em({text:Q}){return Q}codespan({text:Q}){return Q}del({text:Q}){return Q}html({text:Q}){return Q}text({text:Q}){return Q}link({text:Q}){return""+Q}image({text:Q}){return""+Q}br(){return""}},s=class Q{options;renderer;textRenderer;constructor(J){this.options=J||JJ,this.options.renderer=this.options.renderer||new uJ,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new vQ}static parse(J,q){return new Q(q).parse(J)}static parseInline(J,q){return new Q(q).parseInline(J)}parse(J,q=!0){let K="";for(let Z=0;Z<J.length;Z++){let V=J[Z];if(this.options.extensions?.renderers?.[V.type]){let Y=V,B=this.options.extensions.renderers[Y.type].call({parser:this},Y);if(B!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Y.type)){K+=B||"";continue}}let X=V;switch(X.type){case"space":{K+=this.renderer.space(X);continue}case"hr":{K+=this.renderer.hr(X);continue}case"heading":{K+=this.renderer.heading(X);continue}case"code":{K+=this.renderer.code(X);continue}case"table":{K+=this.renderer.table(X);continue}case"blockquote":{K+=this.renderer.blockquote(X);continue}case"list":{K+=this.renderer.list(X);continue}case"html":{K+=this.renderer.html(X);continue}case"paragraph":{K+=this.renderer.paragraph(X);continue}case"text":{let Y=X,B=this.renderer.text(Y);while(Z+1<J.length&&J[Z+1].type==="text")Y=J[++Z],B+=`
`+this.renderer.text(Y);if(q)K+=this.renderer.paragraph({type:"paragraph",raw:B,text:B,tokens:[{type:"text",raw:B,text:B,escaped:!0}]});else K+=B;continue}default:{let Y='Token with "'+X.type+'" type was not found.';if(this.options.silent)return console.error(Y),"";else throw new Error(Y)}}}return K}parseInline(J,q=this.renderer){let K="";for(let Z=0;Z<J.length;Z++){let V=J[Z];if(this.options.extensions?.renderers?.[V.type]){let Y=this.options.extensions.renderers[V.type].call({parser:this},V);if(Y!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(V.type)){K+=Y||"";continue}}let X=V;switch(X.type){case"escape":{K+=q.text(X);break}case"html":{K+=q.html(X);break}case"link":{K+=q.link(X);break}case"image":{K+=q.image(X);break}case"strong":{K+=q.strong(X);break}case"em":{K+=q.em(X);break}case"codespan":{K+=q.codespan(X);break}case"br":{K+=q.br(X);break}case"del":{K+=q.del(X);break}case"text":{K+=q.text(X);break}default:{let Y='Token with "'+X.type+'" type was not found.';if(this.options.silent)return console.error(Y),"";else throw new Error(Y)}}}return K}},NJ=class{options;block;constructor(Q){this.options=Q||JJ}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(Q){return Q}postprocess(Q){return Q}processAllTokens(Q){return Q}provideLexer(){return this.block?c.lex:c.lexInline}provideParser(){return this.block?s.parse:s.parseInline}},l1=class{defaults=zQ();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=s;Renderer=uJ;TextRenderer=vQ;Lexer=c;Tokenizer=_J;Hooks=NJ;constructor(...Q){this.use(...Q)}walkTokens(Q,J){let q=[];for(let K of Q)switch(q=q.concat(J.call(this,K)),K.type){case"table":{let Z=K;for(let V of Z.header)q=q.concat(this.walkTokens(V.tokens,J));for(let V of Z.rows)for(let X of V)q=q.concat(this.walkTokens(X.tokens,J));break}case"list":{let Z=K;q=q.concat(this.walkTokens(Z.items,J));break}default:{let Z=K;if(this.defaults.extensions?.childTokens?.[Z.type])this.defaults.extensions.childTokens[Z.type].forEach((V)=>{let X=Z[V].flat(1/0);q=q.concat(this.walkTokens(X,J))});else if(Z.tokens)q=q.concat(this.walkTokens(Z.tokens,J))}}return q}use(...Q){let J=this.defaults.extensions||{renderers:{},childTokens:{}};return Q.forEach((q)=>{let K={...q};if(K.async=this.defaults.async||K.async||!1,q.extensions)q.extensions.forEach((Z)=>{if(!Z.name)throw new Error("extension name required");if("renderer"in Z){let V=J.renderers[Z.name];if(V)J.renderers[Z.name]=function(...X){let Y=Z.renderer.apply(this,X);if(Y===!1)Y=V.apply(this,X);return Y};else J.renderers[Z.name]=Z.renderer}if("tokenizer"in Z){if(!Z.level||Z.level!=="block"&&Z.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let V=J[Z.level];if(V)V.unshift(Z.tokenizer);else J[Z.level]=[Z.tokenizer];if(Z.start){if(Z.level==="block")if(J.startBlock)J.startBlock.push(Z.start);else J.startBlock=[Z.start];else if(Z.level==="inline")if(J.startInline)J.startInline.push(Z.start);else J.startInline=[Z.start]}}if("childTokens"in Z&&Z.childTokens)J.childTokens[Z.name]=Z.childTokens}),K.extensions=J;if(q.renderer){let Z=this.defaults.renderer||new uJ(this.defaults);for(let V in q.renderer){if(!(V in Z))throw new Error(`renderer '${V}' does not exist`);if(["options","parser"].includes(V))continue;let X=V,Y=q.renderer[X],B=Z[X];Z[X]=(...z)=>{let U=Y.apply(Z,z);if(U===!1)U=B.apply(Z,z);return U||""}}K.renderer=Z}if(q.tokenizer){let Z=this.defaults.tokenizer||new _J(this.defaults);for(let V in q.tokenizer){if(!(V in Z))throw new Error(`tokenizer '${V}' does not exist`);if(["options","rules","lexer"].includes(V))continue;let X=V,Y=q.tokenizer[X],B=Z[X];Z[X]=(...z)=>{let U=Y.apply(Z,z);if(U===!1)U=B.apply(Z,z);return U}}K.tokenizer=Z}if(q.hooks){let Z=this.defaults.hooks||new NJ;for(let V in q.hooks){if(!(V in Z))throw new Error(`hook '${V}' does not exist`);if(["options","block"].includes(V))continue;let X=V,Y=q.hooks[X],B=Z[X];if(NJ.passThroughHooks.has(V))Z[X]=(z)=>{if(this.defaults.async)return Promise.resolve(Y.call(Z,z)).then((C)=>{return B.call(Z,C)});let U=Y.call(Z,z);return B.call(Z,U)};else Z[X]=(...z)=>{let U=Y.apply(Z,z);if(U===!1)U=B.apply(Z,z);return U}}K.hooks=Z}if(q.walkTokens){let Z=this.defaults.walkTokens,V=q.walkTokens;K.walkTokens=function(X){let Y=[];if(Y.push(V.call(this,X)),Z)Y=Y.concat(Z.call(this,X));return Y}}this.defaults={...this.defaults,...K}}),this}setOptions(Q){return this.defaults={...this.defaults,...Q},this}lexer(Q,J){return c.lex(Q,J??this.defaults)}parser(Q,J){return s.parse(Q,J??this.defaults)}parseMarkdown(Q){return(q,K)=>{let Z={...K},V={...this.defaults,...Z},X=this.onError(!!V.silent,!!V.async);if(this.defaults.async===!0&&Z.async===!1)return X(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof q==="undefined"||q===null)return X(new Error("marked(): input parameter is undefined or null"));if(typeof q!=="string")return X(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(q)+", string expected"));if(V.hooks)V.hooks.options=V,V.hooks.block=Q;let Y=V.hooks?V.hooks.provideLexer():Q?c.lex:c.lexInline,B=V.hooks?V.hooks.provideParser():Q?s.parse:s.parseInline;if(V.async)return Promise.resolve(V.hooks?V.hooks.preprocess(q):q).then((z)=>Y(z,V)).then((z)=>V.hooks?V.hooks.processAllTokens(z):z).then((z)=>V.walkTokens?Promise.all(this.walkTokens(z,V.walkTokens)).then(()=>z):z).then((z)=>B(z,V)).then((z)=>V.hooks?V.hooks.postprocess(z):z).catch(X);try{if(V.hooks)q=V.hooks.preprocess(q);let z=Y(q,V);if(V.hooks)z=V.hooks.processAllTokens(z);if(V.walkTokens)this.walkTokens(z,V.walkTokens);let U=B(z,V);if(V.hooks)U=V.hooks.postprocess(U);return U}catch(z){return X(z)}}}onError(Q,J){return(q)=>{if(q.message+=`
Please report this to https://github.com/markedjs/marked.`,Q){let K="<p>An error occurred:</p><pre>"+p(q.message+"",!0)+"</pre>";if(J)return Promise.resolve(K);return K}if(J)return Promise.reject(q);throw q}}},e=new l1;function v(Q,J){return e.parse(Q,J)}v.options=v.setOptions=function(Q){return e.setOptions(Q),v.defaults=e.defaults,B0(v.defaults),v};v.getDefaults=zQ;v.defaults=JJ;v.use=function(...Q){return e.use(...Q),v.defaults=e.defaults,B0(v.defaults),v};v.walkTokens=function(Q,J){return e.walkTokens(Q,J)};v.parseInline=e.parseInline;v.Parser=s;v.parser=s.parse;v.Renderer=uJ;v.TextRenderer=vQ;v.Lexer=c;v.lexer=c.lex;v.Tokenizer=_J;v.Hooks=NJ;v.parse=v;var{options:n1,setOptions:r1,use:t1,walkTokens:e1,parseInline:J4}=v;var Q4=s.parse,q4=c.lex;document.addEventListener("DOMContentLoaded",()=>{document.addEventListener("click",(J)=>{let q=J.target;if(q&&q.id==="regenerate_answer"){J.preventDefault();let K=document.querySelectorAll('div[data-role="user"]'),Z=K[K.length-1]?.textContent?.trim()||"";O0(Z),f0(Z)}if(q&&q.id==="prompt__submit"){J.preventDefault();let K=P0(),Z=document.querySelector("textarea");if(Z)pJ(Z);bQ(K)}if(q&&q.dataset.role==="example"){J.preventDefault();let K=q.textContent?.trim()||"";bQ(K)}});let Q=document.querySelector("textarea");if(Q)Q.addEventListener("input",()=>pJ(Q)),pJ(Q);M0()});var D0=(Q)=>{if(Q.key==="Enter"){Q.preventDefault();let J=P0(),q=document.querySelector("textarea");if(q)pJ(q);bQ(J)}};function c1(){let Q=document.getElementById("prompt__input");if(Q)Q.removeEventListener("keydown",D0)}function M0(){let Q=document.getElementById("prompt__input");if(Q)Q.addEventListener("keydown",D0)}function bQ(Q){if(Q!=="")O0(Q),f0(Q)}function s1(){let Q=document.querySelectorAll("a:not([data-config])");for(let J of Q)J.target="_blank"}function R0(){setTimeout(()=>{window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},5)}function pJ(Q){Q.style.height="auto",Q.style.height=`${Math.min(Q.scrollHeight,250)}px`}function P0(){let Q=document.getElementById("prompt__input");if(Q){let{value:J}=Q;return Q.value="",J.trim()}return"Bonjour !"}async function a1(Q){document.querySelector('[data-role="system__loading"]')?.remove();let q=document.querySelector("main > div:last-child");if(!q)return;q.classList.add("prose");let K=Q.replace(/<br\/>/g,`

`).replace(/\n{3,}/g,`

`),Z=$0.sanitize(K);q.innerHTML=await v.parse(Z),s1(),R0()}function O0(Q){let J=document.querySelector("main");if(!J)return;let q=document.createElement("div");q.setAttribute("data-role","user"),q.classList.add("user"),q.textContent=Q;let K=document.createElement("div");K.setAttribute("data-role","system");let Z=document.createElement("div");Z.classList.add("thinking"),K.appendChild(Z);let V=document.createDocumentFragment();V.appendChild(q),V.appendChild(K),J.appendChild(V),R0()}async function f0(Q){for(let J of document.querySelectorAll("button"))J.disabled=!0;c1();try{let J=document.querySelector('meta[name="conv_id"]').getAttribute("content"),q=new URLSearchParams(window.location.search),K=q.get("config")||"",Z=q.get("data")||"",V=`/ai?message=${encodeURIComponent(Q)}&config=${encodeURIComponent(K)}&data=${encodeURIComponent(Z)}&conv_id=${encodeURIComponent(J)}`,X=await fetch(V,{method:"GET"});if(!X.body)throw new Error("Response body is null");let Y=X.body.getReader(),B=new TextDecoder,z="";while(!0){let{done:U,value:C}=await Y.read();if(U){let D=document.getElementById("disclaimer");if(D){let H=document.createElement("div");H.setAttribute("data-role","disclaimer"),H.textContent=D.value;let h=document.querySelector("main");if(h)h.appendChild(H)}break}if(B.decode(C).includes("pierre_error"))z="<p class='pierre_error'>Une erreur s'est produite chez le fournisseur de modèle de langage. <span id='regenerate_answer'>Cliquer pour regénérer une réponse</span>. Si le problème persiste, patienter quelques minutes.</p>";else z+=`${B.decode(C)}`;a1(z)}}catch(J){console.error(J)}finally{for(let J of document.querySelectorAll("button"))J.disabled=!1;M0()}}
