/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */var{entries:J6,setPrototypeOf:i1,isFrozen:d6,getPrototypeOf:_6,getOwnPropertyDescriptor:T6}=Object,{freeze:y,seal:u,create:Q6}=Object,{apply:X1,construct:j1}=typeof Reflect<"u"&&Reflect;if(!y)y=function(J){return J};if(!u)u=function(J){return J};if(!X1)X1=function(J,Z){for(var K=arguments.length,q=Array(K>2?K-2:0),Y=2;Y<K;Y++)q[Y-2]=arguments[Y];return J.apply(Z,q)};if(!j1)j1=function(J){for(var Z=arguments.length,K=Array(Z>1?Z-1:0),q=1;q<Z;q++)K[q-1]=arguments[q];return new J(...K)};var O0=p(Array.prototype.forEach),i6=p(Array.prototype.lastIndexOf),s1=p(Array.prototype.pop),W0=p(Array.prototype.push),s6=p(Array.prototype.splice),y0=p(String.prototype.toLowerCase),q1=p(String.prototype.toString),Z1=p(String.prototype.match),x0=p(String.prototype.replace),a6=p(String.prototype.indexOf),o6=p(String.prototype.trim),N=p(Object.prototype.hasOwnProperty),g=p(RegExp.prototype.test),G0=n6(TypeError);function p(Q){return function(J){if(J instanceof RegExp)J.lastIndex=0;for(var Z=arguments.length,K=Array(Z>1?Z-1:0),q=1;q<Z;q++)K[q-1]=arguments[q];return X1(Q,J,K)}}function n6(Q){return function(){for(var J=arguments.length,Z=Array(J),K=0;K<J;K++)Z[K]=arguments[K];return j1(Q,Z)}}function x(Q,J){let Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y0;if(i1)i1(Q,null);let K=J.length;while(K--){let q=J[K];if(typeof q==="string"){let Y=Z(q);if(Y!==q){if(!d6(J))J[K]=Y;q=Y}}Q[q]=!0}return Q}function r6(Q){for(let J=0;J<Q.length;J++)if(!N(Q,J))Q[J]=null;return Q}function T(Q){let J=Q6(null);for(let[Z,K]of J6(Q))if(N(Q,Z))if(Array.isArray(K))J[Z]=r6(K);else if(K&&typeof K==="object"&&K.constructor===Object)J[Z]=T(K);else J[Z]=K;return J}function b0(Q,J){while(Q!==null){let K=T6(Q,J);if(K){if(K.get)return p(K.get);if(typeof K.value==="function")return p(K.value)}Q=_6(Q)}function Z(){return null}return Z}var a1=y(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),K1=y(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),$1=y(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),t6=y(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),V1=y(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),e6=y(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),o1=y(["#text"]),n1=y(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Y1=y(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),r1=y(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),g0=y(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),J7=u(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Q7=u(/<%[\w\W]*|[\w\W]*%>/gm),q7=u(/\$\{[\w\W]*/gm),Z7=u(/^data-[\-\w.\u00B7-\uFFFF]+$/),K7=u(/^aria-[\-\w]+$/),q6=u(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),$7=u(/^(?:\w+script|data):/i),V7=u(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Z6=u(/^html$/i),Y7=u(/^[a-z][.\w]*(-[.\w]+)+$/i),t1=Object.freeze({__proto__:null,ARIA_ATTR:K7,ATTR_WHITESPACE:V7,CUSTOM_ELEMENT:Y7,DATA_ATTR:Z7,DOCTYPE_NAME:Z6,ERB_EXPR:Q7,IS_ALLOWED_URI:q6,IS_SCRIPT_OR_DATA:$7,MUSTACHE_EXPR:J7,TMPLIT_EXPR:q7}),H0={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},X7=function(){return typeof window>"u"?null:window},j7=function(J,Z){if(typeof J!=="object"||typeof J.createPolicy!=="function")return null;let K=null,q="data-tt-policy-suffix";if(Z&&Z.hasAttribute(q))K=Z.getAttribute(q);let Y="dompurify"+(K?"#"+K:"");try{return J.createPolicy(Y,{createHTML(V){return V},createScriptURL(V){return V}})}catch(V){return console.warn("TrustedTypes policy "+Y+" could not be created."),null}},e1=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function K6(){let Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:X7(),J=(W)=>K6(W);if(J.version="3.2.7",J.removed=[],!Q||!Q.document||Q.document.nodeType!==H0.document||!Q.Element)return J.isSupported=!1,J;let{document:Z}=Q,K=Z,q=K.currentScript,{DocumentFragment:Y,HTMLTemplateElement:V,Node:X,Element:B,NodeFilter:z,NamedNodeMap:G=Q.NamedNodeMap||Q.MozNamedAttrMap,HTMLFormElement:b,DOMParser:H,trustedTypes:F}=Q,U=B.prototype,R=b0(U,"cloneNode"),C0=b0(U,"remove"),j0=b0(U,"nextSibling"),I0=b0(U,"childNodes"),a=b0(U,"parentNode");if(typeof V==="function"){let W=Z.createElement("template");if(W.content&&W.content.ownerDocument)Z=W.content.ownerDocument}let f,o="",{implementation:n,createNodeIterator:r,createDocumentFragment:R6,getElementsByTagName:M6}=Z,{importNode:S6}=K,O=e1();J.isSupported=typeof J6==="function"&&typeof a==="function"&&n&&n.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:c0,ERB_EXPR:d0,TMPLIT_EXPR:_0,DATA_ATTR:L6,ARIA_ATTR:O6,IS_SCRIPT_OR_DATA:g6,ATTR_WHITESPACE:h1,CUSTOM_ELEMENT:y6}=t1,{IS_ALLOWED_URI:F1}=t1,D=null,C1=x({},[...a1,...K1,...$1,...V1,...o1]),M=null,I1=x({},[...n1,...Y1,...r1,...g0]),C=Object.seal(Q6(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),B0=null,T0=null,f1=!0,i0=!0,D1=!1,P1=!0,q0=!1,f0=!0,t=!1,s0=!1,a0=!1,Z0=!1,D0=!1,P0=!1,R1=!0,M1=!1,p6="user-content-",o0=!0,z0=!1,K0={},$0=null,S1=x({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),L1=null,O1=x({},["audio","video","img","source","image","track"]),n0=null,g1=x({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),R0="http://www.w3.org/1998/Math/MathML",M0="http://www.w3.org/2000/svg",c="http://www.w3.org/1999/xhtml",V0=c,r0=!1,t0=null,m6=x({},[R0,M0,c],q1),S0=x({},["mi","mo","mn","ms","mtext"]),L0=x({},["annotation-xml"]),A6=x({},["title","style","font","a","script"]),w0=null,u6=["application/xhtml+xml","text/html"],N6="text/html",P=null,Y0=null,E6=Z.createElement("form"),y1=function($){return $ instanceof RegExp||$ instanceof Function},e0=function(){let $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Y0&&Y0===$)return;if(!$||typeof $!=="object")$={};if($=T($),w0=u6.indexOf($.PARSER_MEDIA_TYPE)===-1?N6:$.PARSER_MEDIA_TYPE,P=w0==="application/xhtml+xml"?q1:y0,D=N($,"ALLOWED_TAGS")?x({},$.ALLOWED_TAGS,P):C1,M=N($,"ALLOWED_ATTR")?x({},$.ALLOWED_ATTR,P):I1,t0=N($,"ALLOWED_NAMESPACES")?x({},$.ALLOWED_NAMESPACES,q1):m6,n0=N($,"ADD_URI_SAFE_ATTR")?x(T(g1),$.ADD_URI_SAFE_ATTR,P):g1,L1=N($,"ADD_DATA_URI_TAGS")?x(T(O1),$.ADD_DATA_URI_TAGS,P):O1,$0=N($,"FORBID_CONTENTS")?x({},$.FORBID_CONTENTS,P):S1,B0=N($,"FORBID_TAGS")?x({},$.FORBID_TAGS,P):T({}),T0=N($,"FORBID_ATTR")?x({},$.FORBID_ATTR,P):T({}),K0=N($,"USE_PROFILES")?$.USE_PROFILES:!1,f1=$.ALLOW_ARIA_ATTR!==!1,i0=$.ALLOW_DATA_ATTR!==!1,D1=$.ALLOW_UNKNOWN_PROTOCOLS||!1,P1=$.ALLOW_SELF_CLOSE_IN_ATTR!==!1,q0=$.SAFE_FOR_TEMPLATES||!1,f0=$.SAFE_FOR_XML!==!1,t=$.WHOLE_DOCUMENT||!1,Z0=$.RETURN_DOM||!1,D0=$.RETURN_DOM_FRAGMENT||!1,P0=$.RETURN_TRUSTED_TYPE||!1,a0=$.FORCE_BODY||!1,R1=$.SANITIZE_DOM!==!1,M1=$.SANITIZE_NAMED_PROPS||!1,o0=$.KEEP_CONTENT!==!1,z0=$.IN_PLACE||!1,F1=$.ALLOWED_URI_REGEXP||q6,V0=$.NAMESPACE||c,S0=$.MATHML_TEXT_INTEGRATION_POINTS||S0,L0=$.HTML_INTEGRATION_POINTS||L0,C=$.CUSTOM_ELEMENT_HANDLING||{},$.CUSTOM_ELEMENT_HANDLING&&y1($.CUSTOM_ELEMENT_HANDLING.tagNameCheck))C.tagNameCheck=$.CUSTOM_ELEMENT_HANDLING.tagNameCheck;if($.CUSTOM_ELEMENT_HANDLING&&y1($.CUSTOM_ELEMENT_HANDLING.attributeNameCheck))C.attributeNameCheck=$.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;if($.CUSTOM_ELEMENT_HANDLING&&typeof $.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements==="boolean")C.allowCustomizedBuiltInElements=$.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;if(q0)i0=!1;if(D0)Z0=!0;if(K0){if(D=x({},o1),M=[],K0.html===!0)x(D,a1),x(M,n1);if(K0.svg===!0)x(D,K1),x(M,Y1),x(M,g0);if(K0.svgFilters===!0)x(D,$1),x(M,Y1),x(M,g0);if(K0.mathMl===!0)x(D,V1),x(M,r1),x(M,g0)}if($.ADD_TAGS){if(D===C1)D=T(D);x(D,$.ADD_TAGS,P)}if($.ADD_ATTR){if(M===I1)M=T(M);x(M,$.ADD_ATTR,P)}if($.ADD_URI_SAFE_ATTR)x(n0,$.ADD_URI_SAFE_ATTR,P);if($.FORBID_CONTENTS){if($0===S1)$0=T($0);x($0,$.FORBID_CONTENTS,P)}if(o0)D["#text"]=!0;if(t)x(D,["html","head","body"]);if(D.table)x(D,["tbody"]),delete B0.tbody;if($.TRUSTED_TYPES_POLICY){if(typeof $.TRUSTED_TYPES_POLICY.createHTML!=="function")throw G0('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof $.TRUSTED_TYPES_POLICY.createScriptURL!=="function")throw G0('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');f=$.TRUSTED_TYPES_POLICY,o=f.createHTML("")}else{if(f===void 0)f=j7(F,q);if(f!==null&&typeof o==="string")o=f.createHTML("")}if(y)y($);Y0=$},p1=x({},[...K1,...$1,...t6]),m1=x({},[...V1,...e6]),l6=function($){let j=a($);if(!j||!j.tagName)j={namespaceURI:V0,tagName:"template"};let w=y0($.tagName),h=y0(j.tagName);if(!t0[$.namespaceURI])return!1;if($.namespaceURI===M0){if(j.namespaceURI===c)return w==="svg";if(j.namespaceURI===R0)return w==="svg"&&(h==="annotation-xml"||S0[h]);return Boolean(p1[w])}if($.namespaceURI===R0){if(j.namespaceURI===c)return w==="math";if(j.namespaceURI===M0)return w==="math"&&L0[h];return Boolean(m1[w])}if($.namespaceURI===c){if(j.namespaceURI===M0&&!L0[h])return!1;if(j.namespaceURI===R0&&!S0[h])return!1;return!m1[w]&&(A6[w]||!p1[w])}if(w0==="application/xhtml+xml"&&t0[$.namespaceURI])return!0;return!1},E=function($){W0(J.removed,{element:$});try{a($).removeChild($)}catch(j){C0($)}},e=function($,j){try{W0(J.removed,{attribute:j.getAttributeNode($),from:j})}catch(w){W0(J.removed,{attribute:null,from:j})}if(j.removeAttribute($),$==="is")if(Z0||D0)try{E(j)}catch(w){}else try{j.setAttribute($,"")}catch(w){}},A1=function($){let j=null,w=null;if(a0)$="<remove></remove>"+$;else{let I=Z1($,/^[\r\n\t ]+/);w=I&&I[0]}if(w0==="application/xhtml+xml"&&V0===c)$='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+$+"</body></html>";let h=f?f.createHTML($):$;if(V0===c)try{j=new H().parseFromString(h,w0)}catch(I){}if(!j||!j.documentElement){j=n.createDocument(V0,"template",null);try{j.documentElement.innerHTML=r0?o:h}catch(I){}}let L=j.body||j.documentElement;if($&&w)L.insertBefore(Z.createTextNode(w),L.childNodes[0]||null);if(V0===c)return M6.call(j,t?"html":"body")[0];return t?j.documentElement:L},u1=function($){return r.call($.ownerDocument||$,$,z.SHOW_ELEMENT|z.SHOW_COMMENT|z.SHOW_TEXT|z.SHOW_PROCESSING_INSTRUCTION|z.SHOW_CDATA_SECTION,null)},J1=function($){return $ instanceof b&&(typeof $.nodeName!=="string"||typeof $.textContent!=="string"||typeof $.removeChild!=="function"||!($.attributes instanceof G)||typeof $.removeAttribute!=="function"||typeof $.setAttribute!=="function"||typeof $.namespaceURI!=="string"||typeof $.insertBefore!=="function"||typeof $.hasChildNodes!=="function")},N1=function($){return typeof X==="function"&&$ instanceof X};function d(W,$,j){O0(W,(w)=>{w.call(J,$,j,Y0)})}let E1=function($){let j=null;if(d(O.beforeSanitizeElements,$,null),J1($))return E($),!0;let w=P($.nodeName);if(d(O.uponSanitizeElement,$,{tagName:w,allowedTags:D}),f0&&$.hasChildNodes()&&!N1($.firstElementChild)&&g(/<[/\w!]/g,$.innerHTML)&&g(/<[/\w!]/g,$.textContent))return E($),!0;if($.nodeType===H0.progressingInstruction)return E($),!0;if(f0&&$.nodeType===H0.comment&&g(/<[/\w]/g,$.data))return E($),!0;if(!D[w]||B0[w]){if(!B0[w]&&c1(w)){if(C.tagNameCheck instanceof RegExp&&g(C.tagNameCheck,w))return!1;if(C.tagNameCheck instanceof Function&&C.tagNameCheck(w))return!1}if(o0&&!$0[w]){let h=a($)||$.parentNode,L=I0($)||$.childNodes;if(L&&h){let I=L.length;for(let A=I-1;A>=0;--A){let _=R(L[A],!0);_.__removalCount=($.__removalCount||0)+1,h.insertBefore(_,j0($))}}}return E($),!0}if($ instanceof B&&!l6($))return E($),!0;if((w==="noscript"||w==="noembed"||w==="noframes")&&g(/<\/no(script|embed|frames)/i,$.innerHTML))return E($),!0;if(q0&&$.nodeType===H0.text){if(j=$.textContent,O0([c0,d0,_0],(h)=>{j=x0(j,h," ")}),$.textContent!==j)W0(J.removed,{element:$.cloneNode()}),$.textContent=j}return d(O.afterSanitizeElements,$,null),!1},l1=function($,j,w){if(R1&&(j==="id"||j==="name")&&((w in Z)||(w in E6)))return!1;if(i0&&!T0[j]&&g(L6,j));else if(f1&&g(O6,j));else if(!M[j]||T0[j])if(c1($)&&(C.tagNameCheck instanceof RegExp&&g(C.tagNameCheck,$)||C.tagNameCheck instanceof Function&&C.tagNameCheck($))&&(C.attributeNameCheck instanceof RegExp&&g(C.attributeNameCheck,j)||C.attributeNameCheck instanceof Function&&C.attributeNameCheck(j,$))||j==="is"&&C.allowCustomizedBuiltInElements&&(C.tagNameCheck instanceof RegExp&&g(C.tagNameCheck,w)||C.tagNameCheck instanceof Function&&C.tagNameCheck(w)));else return!1;else if(n0[j]);else if(g(F1,x0(w,h1,"")));else if((j==="src"||j==="xlink:href"||j==="href")&&$!=="script"&&a6(w,"data:")===0&&L1[$]);else if(D1&&!g(g6,x0(w,h1,"")));else if(w)return!1;return!0},c1=function($){return $!=="annotation-xml"&&Z1($,y6)},d1=function($){d(O.beforeSanitizeAttributes,$,null);let{attributes:j}=$;if(!j||J1($))return;let w={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:M,forceKeepAttr:void 0},h=j.length;while(h--){let L=j[h],{name:I,namespaceURI:A,value:_}=L,X0=P(I),Q1=_,S=I==="value"?Q1:o6(Q1);if(w.attrName=X0,w.attrValue=S,w.keepAttr=!0,w.forceKeepAttr=void 0,d(O.uponSanitizeAttribute,$,w),S=w.attrValue,M1&&(X0==="id"||X0==="name"))e(I,$),S=p6+S;if(f0&&g(/((--!?|])>)|<\/(style|title|textarea)/i,S)){e(I,$);continue}if(X0==="attributename"&&Z1(S,"href")){e(I,$);continue}if(w.forceKeepAttr)continue;if(!w.keepAttr){e(I,$);continue}if(!P1&&g(/\/>/i,S)){e(I,$);continue}if(q0)O0([c0,d0,_0],(T1)=>{S=x0(S,T1," ")});let _1=P($.nodeName);if(!l1(_1,X0,S)){e(I,$);continue}if(f&&typeof F==="object"&&typeof F.getAttributeType==="function")if(A);else switch(F.getAttributeType(_1,X0)){case"TrustedHTML":{S=f.createHTML(S);break}case"TrustedScriptURL":{S=f.createScriptURL(S);break}}if(S!==Q1)try{if(A)$.setAttributeNS(A,I,S);else $.setAttribute(I,S);if(J1($))E($);else s1(J.removed)}catch(T1){e(I,$)}}d(O.afterSanitizeAttributes,$,null)},c6=function W($){let j=null,w=u1($);d(O.beforeSanitizeShadowDOM,$,null);while(j=w.nextNode())if(d(O.uponSanitizeShadowNode,j,null),E1(j),d1(j),j.content instanceof Y)W(j.content);d(O.afterSanitizeShadowDOM,$,null)};return J.sanitize=function(W){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=null,w=null,h=null,L=null;if(r0=!W,r0)W="<!-->";if(typeof W!=="string"&&!N1(W))if(typeof W.toString==="function"){if(W=W.toString(),typeof W!=="string")throw G0("dirty is not a string, aborting")}else throw G0("toString is not a function");if(!J.isSupported)return W;if(!s0)e0($);if(J.removed=[],typeof W==="string")z0=!1;if(z0){if(W.nodeName){let _=P(W.nodeName);if(!D[_]||B0[_])throw G0("root node is forbidden and cannot be sanitized in-place")}}else if(W instanceof X)if(j=A1("<!---->"),w=j.ownerDocument.importNode(W,!0),w.nodeType===H0.element&&w.nodeName==="BODY")j=w;else if(w.nodeName==="HTML")j=w;else j.appendChild(w);else{if(!Z0&&!q0&&!t&&W.indexOf("<")===-1)return f&&P0?f.createHTML(W):W;if(j=A1(W),!j)return Z0?null:P0?o:""}if(j&&a0)E(j.firstChild);let I=u1(z0?W:j);while(h=I.nextNode())if(E1(h),d1(h),h.content instanceof Y)c6(h.content);if(z0)return W;if(Z0){if(D0){L=R6.call(j.ownerDocument);while(j.firstChild)L.appendChild(j.firstChild)}else L=j;if(M.shadowroot||M.shadowrootmode)L=S6.call(K,L,!0);return L}let A=t?j.outerHTML:j.innerHTML;if(t&&D["!doctype"]&&j.ownerDocument&&j.ownerDocument.doctype&&j.ownerDocument.doctype.name&&g(Z6,j.ownerDocument.doctype.name))A="<!DOCTYPE "+j.ownerDocument.doctype.name+`>
`+A;if(q0)O0([c0,d0,_0],(_)=>{A=x0(A,_," ")});return f&&P0?f.createHTML(A):A},J.setConfig=function(){let W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e0(W),s0=!0},J.clearConfig=function(){Y0=null,s0=!1},J.isValidAttribute=function(W,$,j){if(!Y0)e0({});let w=P(W),h=P($);return l1(w,h,j)},J.addHook=function(W,$){if(typeof $!=="function")return;W0(O[W],$)},J.removeHook=function(W,$){if($!==void 0){let j=i6(O[W],$);return j===-1?void 0:s6(O[W],j,1)[0]}return s1(O[W])},J.removeHooks=function(W){O[W]=[]},J.removeAllHooks=function(){O=e1()},J}var $6=K6();function z1(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Q0=z1();function z6(Q){Q0=Q}var h0={exec:()=>null};function k(Q,J=""){let Z=typeof Q=="string"?Q:Q.source,K={replace:(q,Y)=>{let V=typeof Y=="string"?Y:Y.source;return V=V.replace(m.caret,"$1"),Z=Z.replace(q,V),K},getRegex:()=>new RegExp(Z,J)};return K}var m={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:(Q)=>new RegExp(`^( {0,3}${Q})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:(Q)=>new RegExp(`^ {0,${Math.min(3,Q-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:(Q)=>new RegExp(`^ {0,${Math.min(3,Q-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:(Q)=>new RegExp(`^ {0,${Math.min(3,Q-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:(Q)=>new RegExp(`^ {0,${Math.min(3,Q-1)}}#`),htmlBeginRegex:(Q)=>new RegExp(`^ {0,${Math.min(3,Q-1)}}<(?:[a-z].*>|!--)`,"i")},B7=/^(?:[ \t]*(?:\n|$))+/,z7=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,w7=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,F0=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,W7=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,w1=/(?:[*+-]|\d{1,9}[.)])/,w6=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,W6=k(w6).replace(/bull/g,w1).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),x7=k(w6).replace(/bull/g,w1).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),W1=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,G7=/^[^\n]+/,x1=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,b7=k(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",x1).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),H7=k(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,w1).getRegex(),N0="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",G1=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,U7=k("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",G1).replace("tag",N0).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),x6=k(W1).replace("hr",F0).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",N0).getRegex(),v7=k(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",x6).getRegex(),b1={blockquote:v7,code:z7,def:b7,fences:w7,heading:W7,hr:F0,html:U7,lheading:W6,list:H7,newline:B7,paragraph:x6,table:h0,text:G7},V6=k("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",F0).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",N0).getRegex(),k7={...b1,lheading:x7,table:V6,paragraph:k(W1).replace("hr",F0).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",V6).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",N0).getRegex()},h7={...b1,html:k(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",G1).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:h0,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:k(W1).replace("hr",F0).replace("heading",` *#{1,6} *[^
]`).replace("lheading",W6).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},F7=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,C7=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,G6=/^( {2,}|\\)\n(?!\s*$)/,I7=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,E0=/[\p{P}\p{S}]/u,H1=/[\s\p{P}\p{S}]/u,b6=/[^\s\p{P}\p{S}]/u,f7=k(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,H1).getRegex(),H6=/(?!~)[\p{P}\p{S}]/u,D7=/(?!~)[\s\p{P}\p{S}]/u,P7=/(?:[^\s\p{P}\p{S}]|~)/u,R7=/\[[^\[\]]*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,U6=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,M7=k(U6,"u").replace(/punct/g,E0).getRegex(),S7=k(U6,"u").replace(/punct/g,H6).getRegex(),v6="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",L7=k(v6,"gu").replace(/notPunctSpace/g,b6).replace(/punctSpace/g,H1).replace(/punct/g,E0).getRegex(),O7=k(v6,"gu").replace(/notPunctSpace/g,P7).replace(/punctSpace/g,D7).replace(/punct/g,H6).getRegex(),g7=k("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,b6).replace(/punctSpace/g,H1).replace(/punct/g,E0).getRegex(),y7=k(/\\(punct)/,"gu").replace(/punct/g,E0).getRegex(),p7=k(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),m7=k(G1).replace("(?:-->|$)","-->").getRegex(),A7=k("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",m7).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),m0=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`[^`]*`|[^\[\]\\`])*?/,u7=k(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",m0).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),k6=k(/^!?\[(label)\]\[(ref)\]/).replace("label",m0).replace("ref",x1).getRegex(),h6=k(/^!?\[(ref)\](?:\[\])?/).replace("ref",x1).getRegex(),N7=k("reflink|nolink(?!\\()","g").replace("reflink",k6).replace("nolink",h6).getRegex(),U1={_backpedal:h0,anyPunctuation:y7,autolink:p7,blockSkip:R7,br:G6,code:C7,del:h0,emStrongLDelim:M7,emStrongRDelimAst:L7,emStrongRDelimUnd:g7,escape:F7,link:u7,nolink:h6,punctuation:f7,reflink:k6,reflinkSearch:N7,tag:A7,text:I7,url:h0},E7={...U1,link:k(/^!?\[(label)\]\((.*?)\)/).replace("label",m0).getRegex(),reflink:k(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",m0).getRegex()},B1={...U1,emStrongRDelimAst:O7,emStrongLDelim:S7,url:k(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},l7={...B1,br:k(G6).replace("{2,}","*").getRegex(),text:k(B1.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},p0={normal:b1,gfm:k7,pedantic:h7},U0={normal:U1,gfm:B1,breaks:l7,pedantic:E7},c7={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Y6=(Q)=>c7[Q];function l(Q,J){if(J){if(m.escapeTest.test(Q))return Q.replace(m.escapeReplace,Y6)}else if(m.escapeTestNoEncode.test(Q))return Q.replace(m.escapeReplaceNoEncode,Y6);return Q}function X6(Q){try{Q=encodeURI(Q).replace(m.percentDecode,"%")}catch{return null}return Q}function j6(Q,J){let Z=Q.replace(m.findPipe,(Y,V,X)=>{let B=!1,z=V;for(;--z>=0&&X[z]==="\\";)B=!B;return B?"|":" |"}),K=Z.split(m.splitPipe),q=0;if(K[0].trim()||K.shift(),K.length>0&&!K.at(-1)?.trim()&&K.pop(),J)if(K.length>J)K.splice(J);else for(;K.length<J;)K.push("");for(;q<K.length;q++)K[q]=K[q].trim().replace(m.slashPipe,"|");return K}function v0(Q,J,Z){let K=Q.length;if(K===0)return"";let q=0;for(;q<K;){let Y=Q.charAt(K-q-1);if(Y===J&&!Z)q++;else if(Y!==J&&Z)q++;else break}return Q.slice(0,K-q)}function d7(Q,J){if(Q.indexOf(J[1])===-1)return-1;let Z=0;for(let K=0;K<Q.length;K++)if(Q[K]==="\\")K++;else if(Q[K]===J[0])Z++;else if(Q[K]===J[1]&&(Z--,Z<0))return K;return Z>0?-2:-1}function B6(Q,J,Z,K,q){let Y=J.href,V=J.title||null,X=Q[1].replace(q.other.outputLinkReplace,"$1");K.state.inLink=!0;let B={type:Q[0].charAt(0)==="!"?"image":"link",raw:Z,href:Y,title:V,text:X,tokens:K.inlineTokens(X)};return K.state.inLink=!1,B}function _7(Q,J,Z){let K=Q.match(Z.other.indentCodeCompensation);if(K===null)return J;let q=K[1];return J.split(`
`).map((Y)=>{let V=Y.match(Z.other.beginningSpace);if(V===null)return Y;let[X]=V;return X.length>=q.length?Y.slice(q.length):Y}).join(`
`)}var A0=class{options;rules;lexer;constructor(Q){this.options=Q||Q0}space(Q){let J=this.rules.block.newline.exec(Q);if(J&&J[0].length>0)return{type:"space",raw:J[0]}}code(Q){let J=this.rules.block.code.exec(Q);if(J){let Z=J[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:J[0],codeBlockStyle:"indented",text:this.options.pedantic?Z:v0(Z,`
`)}}}fences(Q){let J=this.rules.block.fences.exec(Q);if(J){let Z=J[0],K=_7(Z,J[3]||"",this.rules);return{type:"code",raw:Z,lang:J[2]?J[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):J[2],text:K}}}heading(Q){let J=this.rules.block.heading.exec(Q);if(J){let Z=J[2].trim();if(this.rules.other.endingHash.test(Z)){let K=v0(Z,"#");(this.options.pedantic||!K||this.rules.other.endingSpaceChar.test(K))&&(Z=K.trim())}return{type:"heading",raw:J[0],depth:J[1].length,text:Z,tokens:this.lexer.inline(Z)}}}hr(Q){let J=this.rules.block.hr.exec(Q);if(J)return{type:"hr",raw:v0(J[0],`
`)}}blockquote(Q){let J=this.rules.block.blockquote.exec(Q);if(J){let Z=v0(J[0],`
`).split(`
`),K="",q="",Y=[];for(;Z.length>0;){let V=!1,X=[],B;for(B=0;B<Z.length;B++)if(this.rules.other.blockquoteStart.test(Z[B]))X.push(Z[B]),V=!0;else if(!V)X.push(Z[B]);else break;Z=Z.slice(B);let z=X.join(`
`),G=z.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");K=K?`${K}
${z}`:z,q=q?`${q}
${G}`:G;let b=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(G,Y,!0),this.lexer.state.top=b,Z.length===0)break;let H=Y.at(-1);if(H?.type==="code")break;if(H?.type==="blockquote"){let F=H,U=F.raw+`
`+Z.join(`
`),R=this.blockquote(U);Y[Y.length-1]=R,K=K.substring(0,K.length-F.raw.length)+R.raw,q=q.substring(0,q.length-F.text.length)+R.text;break}else if(H?.type==="list"){let F=H,U=F.raw+`
`+Z.join(`
`),R=this.list(U);Y[Y.length-1]=R,K=K.substring(0,K.length-H.raw.length)+R.raw,q=q.substring(0,q.length-F.raw.length)+R.raw,Z=U.substring(Y.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:K,tokens:Y,text:q}}}list(Q){let J=this.rules.block.list.exec(Q);if(J){let Z=J[1].trim(),K=Z.length>1,q={type:"list",raw:"",ordered:K,start:K?+Z.slice(0,-1):"",loose:!1,items:[]};Z=K?`\\d{1,9}\\${Z.slice(-1)}`:`\\${Z}`,this.options.pedantic&&(Z=K?Z:"[*+-]");let Y=this.rules.other.listItemRegex(Z),V=!1;for(;Q;){let B=!1,z="",G="";if(!(J=Y.exec(Q))||this.rules.block.hr.test(Q))break;z=J[0],Q=Q.substring(z.length);let b=J[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,(j0)=>" ".repeat(3*j0.length)),H=Q.split(`
`,1)[0],F=!b.trim(),U=0;if(this.options.pedantic?(U=2,G=b.trimStart()):F?U=J[1].length+1:(U=J[2].search(this.rules.other.nonSpaceChar),U=U>4?1:U,G=b.slice(U),U+=J[1].length),F&&this.rules.other.blankLine.test(H)&&(z+=H+`
`,Q=Q.substring(H.length+1),B=!0),!B){let j0=this.rules.other.nextBulletRegex(U),I0=this.rules.other.hrRegex(U),a=this.rules.other.fencesBeginRegex(U),f=this.rules.other.headingBeginRegex(U),o=this.rules.other.htmlBeginRegex(U);for(;Q;){let n=Q.split(`
`,1)[0],r;if(H=n,this.options.pedantic?(H=H.replace(this.rules.other.listReplaceNesting,"  "),r=H):r=H.replace(this.rules.other.tabCharGlobal,"    "),a.test(H)||f.test(H)||o.test(H)||j0.test(H)||I0.test(H))break;if(r.search(this.rules.other.nonSpaceChar)>=U||!H.trim())G+=`
`+r.slice(U);else{if(F||b.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||a.test(b)||f.test(b)||I0.test(b))break;G+=`
`+H}!F&&!H.trim()&&(F=!0),z+=n+`
`,Q=Q.substring(n.length+1),b=r.slice(U)}}q.loose||(V?q.loose=!0:this.rules.other.doubleBlankLine.test(z)&&(V=!0));let R=null,C0;this.options.gfm&&(R=this.rules.other.listIsTask.exec(G),R&&(C0=R[0]!=="[ ] ",G=G.replace(this.rules.other.listReplaceTask,""))),q.items.push({type:"list_item",raw:z,task:!!R,checked:C0,loose:!1,text:G,tokens:[]}),q.raw+=z}let X=q.items.at(-1);if(X)X.raw=X.raw.trimEnd(),X.text=X.text.trimEnd();else return;q.raw=q.raw.trimEnd();for(let B=0;B<q.items.length;B++)if(this.lexer.state.top=!1,q.items[B].tokens=this.lexer.blockTokens(q.items[B].text,[]),!q.loose){let z=q.items[B].tokens.filter((b)=>b.type==="space"),G=z.length>0&&z.some((b)=>this.rules.other.anyLine.test(b.raw));q.loose=G}if(q.loose)for(let B=0;B<q.items.length;B++)q.items[B].loose=!0;return q}}html(Q){let J=this.rules.block.html.exec(Q);if(J)return{type:"html",block:!0,raw:J[0],pre:J[1]==="pre"||J[1]==="script"||J[1]==="style",text:J[0]}}def(Q){let J=this.rules.block.def.exec(Q);if(J){let Z=J[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),K=J[2]?J[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",q=J[3]?J[3].substring(1,J[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):J[3];return{type:"def",tag:Z,raw:J[0],href:K,title:q}}}table(Q){let J=this.rules.block.table.exec(Q);if(!J||!this.rules.other.tableDelimiter.test(J[2]))return;let Z=j6(J[1]),K=J[2].replace(this.rules.other.tableAlignChars,"").split("|"),q=J[3]?.trim()?J[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],Y={type:"table",raw:J[0],header:[],align:[],rows:[]};if(Z.length===K.length){for(let V of K)this.rules.other.tableAlignRight.test(V)?Y.align.push("right"):this.rules.other.tableAlignCenter.test(V)?Y.align.push("center"):this.rules.other.tableAlignLeft.test(V)?Y.align.push("left"):Y.align.push(null);for(let V=0;V<Z.length;V++)Y.header.push({text:Z[V],tokens:this.lexer.inline(Z[V]),header:!0,align:Y.align[V]});for(let V of q)Y.rows.push(j6(V,Y.header.length).map((X,B)=>({text:X,tokens:this.lexer.inline(X),header:!1,align:Y.align[B]})));return Y}}lheading(Q){let J=this.rules.block.lheading.exec(Q);if(J)return{type:"heading",raw:J[0],depth:J[2].charAt(0)==="="?1:2,text:J[1],tokens:this.lexer.inline(J[1])}}paragraph(Q){let J=this.rules.block.paragraph.exec(Q);if(J){let Z=J[1].charAt(J[1].length-1)===`
`?J[1].slice(0,-1):J[1];return{type:"paragraph",raw:J[0],text:Z,tokens:this.lexer.inline(Z)}}}text(Q){let J=this.rules.block.text.exec(Q);if(J)return{type:"text",raw:J[0],text:J[0],tokens:this.lexer.inline(J[0])}}escape(Q){let J=this.rules.inline.escape.exec(Q);if(J)return{type:"escape",raw:J[0],text:J[1]}}tag(Q){let J=this.rules.inline.tag.exec(Q);if(J)return!this.lexer.state.inLink&&this.rules.other.startATag.test(J[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(J[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(J[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(J[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:J[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:J[0]}}link(Q){let J=this.rules.inline.link.exec(Q);if(J){let Z=J[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(Z)){if(!this.rules.other.endAngleBracket.test(Z))return;let Y=v0(Z.slice(0,-1),"\\");if((Z.length-Y.length)%2===0)return}else{let Y=d7(J[2],"()");if(Y===-2)return;if(Y>-1){let V=(J[0].indexOf("!")===0?5:4)+J[1].length+Y;J[2]=J[2].substring(0,Y),J[0]=J[0].substring(0,V).trim(),J[3]=""}}let K=J[2],q="";if(this.options.pedantic){let Y=this.rules.other.pedanticHrefTitle.exec(K);Y&&(K=Y[1],q=Y[3])}else q=J[3]?J[3].slice(1,-1):"";return K=K.trim(),this.rules.other.startAngleBracket.test(K)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(Z)?K=K.slice(1):K=K.slice(1,-1)),B6(J,{href:K&&K.replace(this.rules.inline.anyPunctuation,"$1"),title:q&&q.replace(this.rules.inline.anyPunctuation,"$1")},J[0],this.lexer,this.rules)}}reflink(Q,J){let Z;if((Z=this.rules.inline.reflink.exec(Q))||(Z=this.rules.inline.nolink.exec(Q))){let K=(Z[2]||Z[1]).replace(this.rules.other.multipleSpaceGlobal," "),q=J[K.toLowerCase()];if(!q){let Y=Z[0].charAt(0);return{type:"text",raw:Y,text:Y}}return B6(Z,q,Z[0],this.lexer,this.rules)}}emStrong(Q,J,Z=""){let K=this.rules.inline.emStrongLDelim.exec(Q);if(!K||K[3]&&Z.match(this.rules.other.unicodeAlphaNumeric))return;if(!(K[1]||K[2])||!Z||this.rules.inline.punctuation.exec(Z)){let q=[...K[0]].length-1,Y,V,X=q,B=0,z=K[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(z.lastIndex=0,J=J.slice(-1*Q.length+q);(K=z.exec(J))!=null;){if(Y=K[1]||K[2]||K[3]||K[4]||K[5]||K[6],!Y)continue;if(V=[...Y].length,K[3]||K[4]){X+=V;continue}else if((K[5]||K[6])&&q%3&&!((q+V)%3)){B+=V;continue}if(X-=V,X>0)continue;V=Math.min(V,V+X+B);let G=[...K[0]][0].length,b=Q.slice(0,q+K.index+G+V);if(Math.min(q,V)%2){let F=b.slice(1,-1);return{type:"em",raw:b,text:F,tokens:this.lexer.inlineTokens(F)}}let H=b.slice(2,-2);return{type:"strong",raw:b,text:H,tokens:this.lexer.inlineTokens(H)}}}}codespan(Q){let J=this.rules.inline.code.exec(Q);if(J){let Z=J[2].replace(this.rules.other.newLineCharGlobal," "),K=this.rules.other.nonSpaceChar.test(Z),q=this.rules.other.startingSpaceChar.test(Z)&&this.rules.other.endingSpaceChar.test(Z);return K&&q&&(Z=Z.substring(1,Z.length-1)),{type:"codespan",raw:J[0],text:Z}}}br(Q){let J=this.rules.inline.br.exec(Q);if(J)return{type:"br",raw:J[0]}}del(Q){let J=this.rules.inline.del.exec(Q);if(J)return{type:"del",raw:J[0],text:J[2],tokens:this.lexer.inlineTokens(J[2])}}autolink(Q){let J=this.rules.inline.autolink.exec(Q);if(J){let Z,K;return J[2]==="@"?(Z=J[1],K="mailto:"+Z):(Z=J[1],K=Z),{type:"link",raw:J[0],text:Z,href:K,tokens:[{type:"text",raw:Z,text:Z}]}}}url(Q){let J;if(J=this.rules.inline.url.exec(Q)){let Z,K;if(J[2]==="@")Z=J[0],K="mailto:"+Z;else{let q;do q=J[0],J[0]=this.rules.inline._backpedal.exec(J[0])?.[0]??"";while(q!==J[0]);Z=J[0],J[1]==="www."?K="http://"+J[0]:K=J[0]}return{type:"link",raw:J[0],text:Z,href:K,tokens:[{type:"text",raw:Z,text:Z}]}}}inlineText(Q){let J=this.rules.inline.text.exec(Q);if(J){let Z=this.lexer.state.inRawBlock;return{type:"text",raw:J[0],text:J[0],escaped:Z}}}},i=class Q{tokens;options;state;tokenizer;inlineQueue;constructor(J){this.tokens=[],this.tokens.links=Object.create(null),this.options=J||Q0,this.options.tokenizer=this.options.tokenizer||new A0,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let Z={other:m,block:p0.normal,inline:U0.normal};this.options.pedantic?(Z.block=p0.pedantic,Z.inline=U0.pedantic):this.options.gfm&&(Z.block=p0.gfm,this.options.breaks?Z.inline=U0.breaks:Z.inline=U0.gfm),this.tokenizer.rules=Z}static get rules(){return{block:p0,inline:U0}}static lex(J,Z){return new Q(Z).lex(J)}static lexInline(J,Z){return new Q(Z).inlineTokens(J)}lex(J){J=J.replace(m.carriageReturn,`
`),this.blockTokens(J,this.tokens);for(let Z=0;Z<this.inlineQueue.length;Z++){let K=this.inlineQueue[Z];this.inlineTokens(K.src,K.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(J,Z=[],K=!1){for(this.options.pedantic&&(J=J.replace(m.tabCharGlobal,"    ").replace(m.spaceLine,""));J;){let q;if(this.options.extensions?.block?.some((V)=>(q=V.call({lexer:this},J,Z))?(J=J.substring(q.raw.length),Z.push(q),!0):!1))continue;if(q=this.tokenizer.space(J)){J=J.substring(q.raw.length);let V=Z.at(-1);q.raw.length===1&&V!==void 0?V.raw+=`
`:Z.push(q);continue}if(q=this.tokenizer.code(J)){J=J.substring(q.raw.length);let V=Z.at(-1);V?.type==="paragraph"||V?.type==="text"?(V.raw+=(V.raw.endsWith(`
`)?"":`
`)+q.raw,V.text+=`
`+q.text,this.inlineQueue.at(-1).src=V.text):Z.push(q);continue}if(q=this.tokenizer.fences(J)){J=J.substring(q.raw.length),Z.push(q);continue}if(q=this.tokenizer.heading(J)){J=J.substring(q.raw.length),Z.push(q);continue}if(q=this.tokenizer.hr(J)){J=J.substring(q.raw.length),Z.push(q);continue}if(q=this.tokenizer.blockquote(J)){J=J.substring(q.raw.length),Z.push(q);continue}if(q=this.tokenizer.list(J)){J=J.substring(q.raw.length),Z.push(q);continue}if(q=this.tokenizer.html(J)){J=J.substring(q.raw.length),Z.push(q);continue}if(q=this.tokenizer.def(J)){J=J.substring(q.raw.length);let V=Z.at(-1);V?.type==="paragraph"||V?.type==="text"?(V.raw+=(V.raw.endsWith(`
`)?"":`
`)+q.raw,V.text+=`
`+q.raw,this.inlineQueue.at(-1).src=V.text):this.tokens.links[q.tag]||(this.tokens.links[q.tag]={href:q.href,title:q.title},Z.push(q));continue}if(q=this.tokenizer.table(J)){J=J.substring(q.raw.length),Z.push(q);continue}if(q=this.tokenizer.lheading(J)){J=J.substring(q.raw.length),Z.push(q);continue}let Y=J;if(this.options.extensions?.startBlock){let V=1/0,X=J.slice(1),B;this.options.extensions.startBlock.forEach((z)=>{B=z.call({lexer:this},X),typeof B=="number"&&B>=0&&(V=Math.min(V,B))}),V<1/0&&V>=0&&(Y=J.substring(0,V+1))}if(this.state.top&&(q=this.tokenizer.paragraph(Y))){let V=Z.at(-1);K&&V?.type==="paragraph"?(V.raw+=(V.raw.endsWith(`
`)?"":`
`)+q.raw,V.text+=`
`+q.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=V.text):Z.push(q),K=Y.length!==J.length,J=J.substring(q.raw.length);continue}if(q=this.tokenizer.text(J)){J=J.substring(q.raw.length);let V=Z.at(-1);V?.type==="text"?(V.raw+=(V.raw.endsWith(`
`)?"":`
`)+q.raw,V.text+=`
`+q.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=V.text):Z.push(q);continue}if(J){let V="Infinite loop on byte: "+J.charCodeAt(0);if(this.options.silent){console.error(V);break}else throw Error(V)}}return this.state.top=!0,Z}inline(J,Z=[]){return this.inlineQueue.push({src:J,tokens:Z}),Z}inlineTokens(J,Z=[]){let K=J,q=null;if(this.tokens.links){let X=Object.keys(this.tokens.links);if(X.length>0)for(;(q=this.tokenizer.rules.inline.reflinkSearch.exec(K))!=null;)X.includes(q[0].slice(q[0].lastIndexOf("[")+1,-1))&&(K=K.slice(0,q.index)+"["+"a".repeat(q[0].length-2)+"]"+K.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(q=this.tokenizer.rules.inline.anyPunctuation.exec(K))!=null;)K=K.slice(0,q.index)+"++"+K.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(q=this.tokenizer.rules.inline.blockSkip.exec(K))!=null;)K=K.slice(0,q.index)+"["+"a".repeat(q[0].length-2)+"]"+K.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);K=this.options.hooks?.emStrongMask?.call({lexer:this},K)??K;let Y=!1,V="";for(;J;){Y||(V=""),Y=!1;let X;if(this.options.extensions?.inline?.some((z)=>(X=z.call({lexer:this},J,Z))?(J=J.substring(X.raw.length),Z.push(X),!0):!1))continue;if(X=this.tokenizer.escape(J)){J=J.substring(X.raw.length),Z.push(X);continue}if(X=this.tokenizer.tag(J)){J=J.substring(X.raw.length),Z.push(X);continue}if(X=this.tokenizer.link(J)){J=J.substring(X.raw.length),Z.push(X);continue}if(X=this.tokenizer.reflink(J,this.tokens.links)){J=J.substring(X.raw.length);let z=Z.at(-1);X.type==="text"&&z?.type==="text"?(z.raw+=X.raw,z.text+=X.text):Z.push(X);continue}if(X=this.tokenizer.emStrong(J,K,V)){J=J.substring(X.raw.length),Z.push(X);continue}if(X=this.tokenizer.codespan(J)){J=J.substring(X.raw.length),Z.push(X);continue}if(X=this.tokenizer.br(J)){J=J.substring(X.raw.length),Z.push(X);continue}if(X=this.tokenizer.del(J)){J=J.substring(X.raw.length),Z.push(X);continue}if(X=this.tokenizer.autolink(J)){J=J.substring(X.raw.length),Z.push(X);continue}if(!this.state.inLink&&(X=this.tokenizer.url(J))){J=J.substring(X.raw.length),Z.push(X);continue}let B=J;if(this.options.extensions?.startInline){let z=1/0,G=J.slice(1),b;this.options.extensions.startInline.forEach((H)=>{b=H.call({lexer:this},G),typeof b=="number"&&b>=0&&(z=Math.min(z,b))}),z<1/0&&z>=0&&(B=J.substring(0,z+1))}if(X=this.tokenizer.inlineText(B)){J=J.substring(X.raw.length),X.raw.slice(-1)!=="_"&&(V=X.raw.slice(-1)),Y=!0;let z=Z.at(-1);z?.type==="text"?(z.raw+=X.raw,z.text+=X.text):Z.push(X);continue}if(J){let z="Infinite loop on byte: "+J.charCodeAt(0);if(this.options.silent){console.error(z);break}else throw Error(z)}}return Z}},u0=class{options;parser;constructor(Q){this.options=Q||Q0}space(Q){return""}code({text:Q,lang:J,escaped:Z}){let K=(J||"").match(m.notSpaceStart)?.[0],q=Q.replace(m.endingNewline,"")+`
`;return K?'<pre><code class="language-'+l(K)+'">'+(Z?q:l(q,!0))+`</code></pre>
`:"<pre><code>"+(Z?q:l(q,!0))+`</code></pre>
`}blockquote({tokens:Q}){return`<blockquote>
${this.parser.parse(Q)}</blockquote>
`}html({text:Q}){return Q}def(Q){return""}heading({tokens:Q,depth:J}){return`<h${J}>${this.parser.parseInline(Q)}</h${J}>
`}hr(Q){return`<hr>
`}list(Q){let{ordered:J,start:Z}=Q,K="";for(let V=0;V<Q.items.length;V++){let X=Q.items[V];K+=this.listitem(X)}let q=J?"ol":"ul",Y=J&&Z!==1?' start="'+Z+'"':"";return"<"+q+Y+`>
`+K+"</"+q+`>
`}listitem(Q){let J="";if(Q.task){let Z=this.checkbox({checked:!!Q.checked});Q.loose?Q.tokens[0]?.type==="paragraph"?(Q.tokens[0].text=Z+" "+Q.tokens[0].text,Q.tokens[0].tokens&&Q.tokens[0].tokens.length>0&&Q.tokens[0].tokens[0].type==="text"&&(Q.tokens[0].tokens[0].text=Z+" "+l(Q.tokens[0].tokens[0].text),Q.tokens[0].tokens[0].escaped=!0)):Q.tokens.unshift({type:"text",raw:Z+" ",text:Z+" ",escaped:!0}):J+=Z+" "}return J+=this.parser.parse(Q.tokens,!!Q.loose),`<li>${J}</li>
`}checkbox({checked:Q}){return"<input "+(Q?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:Q}){return`<p>${this.parser.parseInline(Q)}</p>
`}table(Q){let J="",Z="";for(let q=0;q<Q.header.length;q++)Z+=this.tablecell(Q.header[q]);J+=this.tablerow({text:Z});let K="";for(let q=0;q<Q.rows.length;q++){let Y=Q.rows[q];Z="";for(let V=0;V<Y.length;V++)Z+=this.tablecell(Y[V]);K+=this.tablerow({text:Z})}return K&&(K=`<tbody>${K}</tbody>`),`<table>
<thead>
`+J+`</thead>
`+K+`</table>
`}tablerow({text:Q}){return`<tr>
${Q}</tr>
`}tablecell(Q){let J=this.parser.parseInline(Q.tokens),Z=Q.header?"th":"td";return(Q.align?`<${Z} align="${Q.align}">`:`<${Z}>`)+J+`</${Z}>
`}strong({tokens:Q}){return`<strong>${this.parser.parseInline(Q)}</strong>`}em({tokens:Q}){return`<em>${this.parser.parseInline(Q)}</em>`}codespan({text:Q}){return`<code>${l(Q,!0)}</code>`}br(Q){return"<br>"}del({tokens:Q}){return`<del>${this.parser.parseInline(Q)}</del>`}link({href:Q,title:J,tokens:Z}){let K=this.parser.parseInline(Z),q=X6(Q);if(q===null)return K;Q=q;let Y='<a href="'+Q+'"';return J&&(Y+=' title="'+l(J)+'"'),Y+=">"+K+"</a>",Y}image({href:Q,title:J,text:Z,tokens:K}){K&&(Z=this.parser.parseInline(K,this.parser.textRenderer));let q=X6(Q);if(q===null)return l(Z);Q=q;let Y=`<img src="${Q}" alt="${Z}"`;return J&&(Y+=` title="${l(J)}"`),Y+=">",Y}text(Q){return"tokens"in Q&&Q.tokens?this.parser.parseInline(Q.tokens):("escaped"in Q)&&Q.escaped?Q.text:l(Q.text)}},v1=class{strong({text:Q}){return Q}em({text:Q}){return Q}codespan({text:Q}){return Q}del({text:Q}){return Q}html({text:Q}){return Q}text({text:Q}){return Q}link({text:Q}){return""+Q}image({text:Q}){return""+Q}br(){return""}},s=class Q{options;renderer;textRenderer;constructor(J){this.options=J||Q0,this.options.renderer=this.options.renderer||new u0,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new v1}static parse(J,Z){return new Q(Z).parse(J)}static parseInline(J,Z){return new Q(Z).parseInline(J)}parse(J,Z=!0){let K="";for(let q=0;q<J.length;q++){let Y=J[q];if(this.options.extensions?.renderers?.[Y.type]){let X=Y,B=this.options.extensions.renderers[X.type].call({parser:this},X);if(B!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(X.type)){K+=B||"";continue}}let V=Y;switch(V.type){case"space":{K+=this.renderer.space(V);continue}case"hr":{K+=this.renderer.hr(V);continue}case"heading":{K+=this.renderer.heading(V);continue}case"code":{K+=this.renderer.code(V);continue}case"table":{K+=this.renderer.table(V);continue}case"blockquote":{K+=this.renderer.blockquote(V);continue}case"list":{K+=this.renderer.list(V);continue}case"html":{K+=this.renderer.html(V);continue}case"def":{K+=this.renderer.def(V);continue}case"paragraph":{K+=this.renderer.paragraph(V);continue}case"text":{let X=V,B=this.renderer.text(X);for(;q+1<J.length&&J[q+1].type==="text";)X=J[++q],B+=`
`+this.renderer.text(X);Z?K+=this.renderer.paragraph({type:"paragraph",raw:B,text:B,tokens:[{type:"text",raw:B,text:B,escaped:!0}]}):K+=B;continue}default:{let X='Token with "'+V.type+'" type was not found.';if(this.options.silent)return console.error(X),"";throw Error(X)}}}return K}parseInline(J,Z=this.renderer){let K="";for(let q=0;q<J.length;q++){let Y=J[q];if(this.options.extensions?.renderers?.[Y.type]){let X=this.options.extensions.renderers[Y.type].call({parser:this},Y);if(X!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(Y.type)){K+=X||"";continue}}let V=Y;switch(V.type){case"escape":{K+=Z.text(V);break}case"html":{K+=Z.html(V);break}case"link":{K+=Z.link(V);break}case"image":{K+=Z.image(V);break}case"strong":{K+=Z.strong(V);break}case"em":{K+=Z.em(V);break}case"codespan":{K+=Z.codespan(V);break}case"br":{K+=Z.br(V);break}case"del":{K+=Z.del(V);break}case"text":{K+=Z.text(V);break}default:{let X='Token with "'+V.type+'" type was not found.';if(this.options.silent)return console.error(X),"";throw Error(X)}}}return K}},k0=class{options;block;constructor(Q){this.options=Q||Q0}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(Q){return Q}postprocess(Q){return Q}processAllTokens(Q){return Q}emStrongMask(Q){return Q}provideLexer(){return this.block?i.lex:i.lexInline}provideParser(){return this.block?s.parse:s.parseInline}},T7=class{defaults=z1();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=s;Renderer=u0;TextRenderer=v1;Lexer=i;Tokenizer=A0;Hooks=k0;constructor(...Q){this.use(...Q)}walkTokens(Q,J){let Z=[];for(let K of Q)switch(Z=Z.concat(J.call(this,K)),K.type){case"table":{let q=K;for(let Y of q.header)Z=Z.concat(this.walkTokens(Y.tokens,J));for(let Y of q.rows)for(let V of Y)Z=Z.concat(this.walkTokens(V.tokens,J));break}case"list":{let q=K;Z=Z.concat(this.walkTokens(q.items,J));break}default:{let q=K;this.defaults.extensions?.childTokens?.[q.type]?this.defaults.extensions.childTokens[q.type].forEach((Y)=>{let V=q[Y].flat(1/0);Z=Z.concat(this.walkTokens(V,J))}):q.tokens&&(Z=Z.concat(this.walkTokens(q.tokens,J)))}}return Z}use(...Q){let J=this.defaults.extensions||{renderers:{},childTokens:{}};return Q.forEach((Z)=>{let K={...Z};if(K.async=this.defaults.async||K.async||!1,Z.extensions&&(Z.extensions.forEach((q)=>{if(!q.name)throw Error("extension name required");if("renderer"in q){let Y=J.renderers[q.name];Y?J.renderers[q.name]=function(...V){let X=q.renderer.apply(this,V);return X===!1&&(X=Y.apply(this,V)),X}:J.renderers[q.name]=q.renderer}if("tokenizer"in q){if(!q.level||q.level!=="block"&&q.level!=="inline")throw Error("extension level must be 'block' or 'inline'");let Y=J[q.level];Y?Y.unshift(q.tokenizer):J[q.level]=[q.tokenizer],q.start&&(q.level==="block"?J.startBlock?J.startBlock.push(q.start):J.startBlock=[q.start]:q.level==="inline"&&(J.startInline?J.startInline.push(q.start):J.startInline=[q.start]))}"childTokens"in q&&q.childTokens&&(J.childTokens[q.name]=q.childTokens)}),K.extensions=J),Z.renderer){let q=this.defaults.renderer||new u0(this.defaults);for(let Y in Z.renderer){if(!(Y in q))throw Error(`renderer '${Y}' does not exist`);if(["options","parser"].includes(Y))continue;let V=Y,X=Z.renderer[V],B=q[V];q[V]=(...z)=>{let G=X.apply(q,z);return G===!1&&(G=B.apply(q,z)),G||""}}K.renderer=q}if(Z.tokenizer){let q=this.defaults.tokenizer||new A0(this.defaults);for(let Y in Z.tokenizer){if(!(Y in q))throw Error(`tokenizer '${Y}' does not exist`);if(["options","rules","lexer"].includes(Y))continue;let V=Y,X=Z.tokenizer[V],B=q[V];q[V]=(...z)=>{let G=X.apply(q,z);return G===!1&&(G=B.apply(q,z)),G}}K.tokenizer=q}if(Z.hooks){let q=this.defaults.hooks||new k0;for(let Y in Z.hooks){if(!(Y in q))throw Error(`hook '${Y}' does not exist`);if(["options","block"].includes(Y))continue;let V=Y,X=Z.hooks[V],B=q[V];k0.passThroughHooks.has(Y)?q[V]=(z)=>{if(this.defaults.async&&k0.passThroughHooksRespectAsync.has(Y))return Promise.resolve(X.call(q,z)).then((b)=>B.call(q,b));let G=X.call(q,z);return B.call(q,G)}:q[V]=(...z)=>{let G=X.apply(q,z);return G===!1&&(G=B.apply(q,z)),G}}K.hooks=q}if(Z.walkTokens){let q=this.defaults.walkTokens,Y=Z.walkTokens;K.walkTokens=function(V){let X=[];return X.push(Y.call(this,V)),q&&(X=X.concat(q.call(this,V))),X}}this.defaults={...this.defaults,...K}}),this}setOptions(Q){return this.defaults={...this.defaults,...Q},this}lexer(Q,J){return i.lex(Q,J??this.defaults)}parser(Q,J){return s.parse(Q,J??this.defaults)}parseMarkdown(Q){return(J,Z)=>{let K={...Z},q={...this.defaults,...K},Y=this.onError(!!q.silent,!!q.async);if(this.defaults.async===!0&&K.async===!1)return Y(Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof J>"u"||J===null)return Y(Error("marked(): input parameter is undefined or null"));if(typeof J!="string")return Y(Error("marked(): input parameter is of type "+Object.prototype.toString.call(J)+", string expected"));q.hooks&&(q.hooks.options=q,q.hooks.block=Q);let V=q.hooks?q.hooks.provideLexer():Q?i.lex:i.lexInline,X=q.hooks?q.hooks.provideParser():Q?s.parse:s.parseInline;if(q.async)return Promise.resolve(q.hooks?q.hooks.preprocess(J):J).then((B)=>V(B,q)).then((B)=>q.hooks?q.hooks.processAllTokens(B):B).then((B)=>q.walkTokens?Promise.all(this.walkTokens(B,q.walkTokens)).then(()=>B):B).then((B)=>X(B,q)).then((B)=>q.hooks?q.hooks.postprocess(B):B).catch(Y);try{q.hooks&&(J=q.hooks.preprocess(J));let B=V(J,q);q.hooks&&(B=q.hooks.processAllTokens(B)),q.walkTokens&&this.walkTokens(B,q.walkTokens);let z=X(B,q);return q.hooks&&(z=q.hooks.postprocess(z)),z}catch(B){return Y(B)}}}onError(Q,J){return(Z)=>{if(Z.message+=`
Please report this to https://github.com/markedjs/marked.`,Q){let K="<p>An error occurred:</p><pre>"+l(Z.message+"",!0)+"</pre>";return J?Promise.resolve(K):K}if(J)return Promise.reject(Z);throw Z}}},J0=new T7;function v(Q,J){return J0.parse(Q,J)}v.options=v.setOptions=function(Q){return J0.setOptions(Q),v.defaults=J0.defaults,z6(v.defaults),v};v.getDefaults=z1;v.defaults=Q0;v.use=function(...Q){return J0.use(...Q),v.defaults=J0.defaults,z6(v.defaults),v};v.walkTokens=function(Q,J){return J0.walkTokens(Q,J)};v.parseInline=J0.parseInline;v.Parser=s;v.parser=s.parse;v.Renderer=u0;v.TextRenderer=v1;v.Lexer=i;v.lexer=i.lex;v.Tokenizer=A0;v.Hooks=k0;v.parse=v;var{options:n7,setOptions:r7,use:t7,walkTokens:e7,parseInline:J8}=v;var Q8=s.parse,q8=i.lex;document.addEventListener("DOMContentLoaded",()=>{document.addEventListener("click",(J)=>{let Z=J.target;if(Z&&Z.id==="regenerate_answer"){J.preventDefault();let K=document.querySelectorAll('div[data-role="user"]'),q=K[K.length-1]?.textContent?.trim()||"";D6(q),P6(q)}if(Z&&Z.id==="prompt__submit"){J.preventDefault();let K=f6(),q=document.querySelector("textarea");if(q)l0(q);k1(K)}if(Z&&Z.dataset.role==="example"){J.preventDefault();let K=Z.textContent?.trim()||"";k1(K)}});let Q=document.querySelector("textarea");if(Q)Q.addEventListener("input",()=>l0(Q)),l0(Q);C6()});var F6=(Q)=>{if(Q.key==="Enter"){Q.preventDefault();let J=f6(),Z=document.querySelector("textarea");if(Z)l0(Z);k1(J)}};function i7(){let Q=document.getElementById("prompt__input");if(Q)Q.removeEventListener("keydown",F6)}function C6(){let Q=document.getElementById("prompt__input");if(Q)Q.addEventListener("keydown",F6)}function k1(Q){if(Q!=="")D6(Q),P6(Q)}function s7(){let Q=document.querySelectorAll("a:not([data-config])");for(let J of Q)J.target="_blank"}function I6(){setTimeout(()=>{window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},5)}function l0(Q){Q.style.height="auto",Q.style.height=`${Math.min(Q.scrollHeight,250)}px`}function f6(){let Q=document.getElementById("prompt__input");if(Q){let{value:J}=Q;return Q.value="",J.trim()}return"Bonjour !"}async function a7(Q){document.querySelector('[data-role="system__loading"]')?.remove();let Z=document.querySelector("main > div:last-child");if(!Z)return;Z.classList.add("prose");let K=Q.replace(/<br\/>/g,`

`).replace(/\n{3,}/g,`

`),q=$6.sanitize(K);Z.innerHTML=await v.parse(q),s7(),I6()}function D6(Q){let J=document.querySelector("main");if(!J)return;let Z=document.createElement("div");Z.setAttribute("data-role","user"),Z.classList.add("user"),Z.textContent=Q;let K=document.createElement("div");K.setAttribute("data-role","system");let q=document.createElement("div");q.classList.add("thinking"),K.appendChild(q);let Y=document.createDocumentFragment();Y.appendChild(Z),Y.appendChild(K),J.appendChild(Y),I6()}async function P6(Q){for(let J of document.querySelectorAll("button"))J.disabled=!0;i7();try{let J=document.querySelector('meta[name="conv_id"]').getAttribute("content"),Z=new URLSearchParams(window.location.search),K=Z.get("config")||"",q=Z.get("data")||"",Y=`/ai?message=${encodeURIComponent(Q)}&config=${encodeURIComponent(K)}&data=${encodeURIComponent(q)}&conv_id=${encodeURIComponent(J)}`,V=await fetch(Y,{method:"GET"});if(!V.body)throw Error("Response body is null");let X=V.body.getReader(),B=new TextDecoder,z="";while(!0){let{done:G,value:b}=await X.read();if(G){let F=document.getElementById("disclaimer");if(F){let U=document.createElement("div");U.setAttribute("data-role","disclaimer"),U.textContent=F.value;let R=document.querySelector("main");if(R)R.appendChild(U)}break}if(B.decode(b).includes("pierre_error"))z="<p class='pierre_error'>Une erreur s'est produite chez le fournisseur de modèle de langage. <span id='regenerate_answer'>Cliquer pour regénérer une réponse</span>. Si le problème persiste, patienter quelques minutes.</p>";else z+=`${B.decode(b)}`;a7(z)}}catch(J){console.error(J)}finally{for(let J of document.querySelectorAll("button"))J.disabled=!1;C6()}}
