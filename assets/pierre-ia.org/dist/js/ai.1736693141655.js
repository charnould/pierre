/*! @license DOMPurify 3.2.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.3/LICENSE */var{entries:rQ,setPrototypeOf:kQ,isFrozen:T0,getPrototypeOf:p0,getOwnPropertyDescriptor:k0}=Object,{freeze:A,seal:_,create:tQ}=Object,{apply:VQ,construct:XQ}=typeof Reflect!=="undefined"&&Reflect;if(!A)A=function J(Q){return Q};if(!_)_=function J(Q){return Q};if(!VQ)VQ=function J(Q,q,K){return Q.apply(q,K)};if(!XQ)XQ=function J(Q,q){return new Q(...q)};var LJ=u(Array.prototype.forEach),dQ=u(Array.prototype.pop),WJ=u(Array.prototype.push),NJ=u(String.prototype.toLowerCase),QQ=u(String.prototype.toString),iQ=u(String.prototype.match),GJ=u(String.prototype.replace),d0=u(String.prototype.indexOf),i0=u(String.prototype.trim),p=u(Object.prototype.hasOwnProperty),x=u(RegExp.prototype.test),UJ=l0(TypeError);function u(J){return function(Q){for(var q=arguments.length,K=new Array(q>1?q-1:0),$=1;$<q;$++)K[$-1]=arguments[$];return VQ(J,Q,K)}}function l0(J){return function(){for(var Q=arguments.length,q=new Array(Q),K=0;K<Q;K++)q[K]=arguments[K];return XQ(J,q)}}function w(J,Q){let q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NJ;if(kQ)kQ(J,null);let K=Q.length;while(K--){let $=Q[K];if(typeof $==="string"){let Z=q($);if(Z!==$){if(!T0(Q))Q[K]=Z;$=Z}}J[$]=!0}return J}function c0(J){for(let Q=0;Q<J.length;Q++)if(!p(J,Q))J[Q]=null;return J}function t(J){let Q=tQ(null);for(let[q,K]of rQ(J))if(p(J,q))if(Array.isArray(K))Q[q]=c0(K);else if(K&&typeof K==="object"&&K.constructor===Object)Q[q]=t(K);else Q[q]=K;return Q}function wJ(J,Q){while(J!==null){let K=k0(J,Q);if(K){if(K.get)return u(K.get);if(typeof K.value==="function")return u(K.value)}J=p0(J)}function q(){return null}return q}var lQ=A(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),qQ=A(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),KQ=A(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),s0=A(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ZQ=A(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),a0=A(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),cQ=A(["#text"]),sQ=A(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),$Q=A(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),aQ=A(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),gJ=A(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),n0=_(/\{\{[\w\W]*|[\w\W]*\}\}/gm),o0=_(/<%[\w\W]*|[\w\W]*%>/gm),r0=_(/\$\{[\w\W]*}/gm),t0=_(/^data-[\-\w.\u00B7-\uFFFF]+$/),e0=_(/^aria-[\-\w]+$/),eQ=_(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),J1=_(/^(?:\w+script|data):/i),Q1=_(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),J0=_(/^html$/i),q1=_(/^[a-z][.\w]*(-[.\w]+)+$/i),nQ=Object.freeze({__proto__:null,ARIA_ATTR:e0,ATTR_WHITESPACE:Q1,CUSTOM_ELEMENT:q1,DATA_ATTR:t0,DOCTYPE_NAME:J0,ERB_EXPR:o0,IS_ALLOWED_URI:eQ,IS_SCRIPT_OR_DATA:J1,MUSTACHE_EXPR:n0,TMPLIT_EXPR:r0}),HJ={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},K1=function J(){return typeof window==="undefined"?null:window},Z1=function J(Q,q){if(typeof Q!=="object"||typeof Q.createPolicy!=="function")return null;let K=null,$="data-tt-policy-suffix";if(q&&q.hasAttribute($))K=q.getAttribute($);let Z="dompurify"+(K?"#"+K:"");try{return Q.createPolicy(Z,{createHTML(X){return X},createScriptURL(X){return X}})}catch(X){return console.warn("TrustedTypes policy "+Z+" could not be created."),null}},oQ=function J(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Q0(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:K1(),Q=(G)=>Q0(G);if(Q.version="3.2.3",Q.removed=[],!J||!J.document||J.document.nodeType!==HJ.document)return Q.isSupported=!1,Q;let{document:q}=J,K=q,$=K.currentScript,{DocumentFragment:Z,HTMLTemplateElement:X,Node:j,Element:B,NodeFilter:z,NamedNodeMap:U=J.NamedNodeMap||J.MozNamedAttrMap,HTMLFormElement:C,DOMParser:H,trustedTypes:I}=J,F=B.prototype,g=wJ(F,"cloneNode"),RJ=wJ(F,"remove"),XJ=wJ(F,"nextSibling"),PJ=wJ(F,"childNodes"),s=wJ(F,"parentNode");if(typeof X==="function"){let G=q.createElement("template");if(G.content&&G.content.ownerDocument)q=G.content.ownerDocument}let R,a="",{implementation:n,createNodeIterator:o,createDocumentFragment:P0,getElementsByTagName:O0}=q,{importNode:f0}=K,E=oQ();Q.isSupported=typeof rQ==="function"&&typeof s==="function"&&n&&n.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:pJ,ERB_EXPR:kJ,TMPLIT_EXPR:dJ,DATA_ATTR:h0,ARIA_ATTR:S0,IS_SCRIPT_OR_DATA:y0,ATTR_WHITESPACE:FQ,CUSTOM_ELEMENT:x0}=nQ,{IS_ALLOWED_URI:vQ}=nQ,P=null,bQ=w({},[...lQ,...qQ,...KQ,...ZQ,...cQ]),f=null,CQ=w({},[...sQ,...$Q,...aQ,...gJ]),M=Object.seal(tQ(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),YJ=null,iJ=null,IQ=!0,lJ=!0,DQ=!1,MQ=!0,QJ=!1,cJ=!0,r=!1,sJ=!1,aJ=!1,qJ=!1,OJ=!1,fJ=!1,RQ=!0,PQ=!1,A0="user-content-",nJ=!0,jJ=!1,KJ={},ZJ=null,OQ=w({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),fQ=null,hQ=w({},["audio","video","img","source","image","track"]),oJ=null,SQ=w({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),hJ="http://www.w3.org/1998/Math/MathML",SJ="http://www.w3.org/2000/svg",l="http://www.w3.org/1999/xhtml",$J=l,rJ=!1,tJ=null,L0=w({},[hJ,SJ,l],QQ),yJ=w({},["mi","mo","mn","ms","mtext"]),xJ=w({},["annotation-xml"]),g0=w({},["title","style","font","a","script"]),BJ=null,N0=["application/xhtml+xml","text/html"],E0="text/html",O=null,VJ=null,u0=q.createElement("form"),yQ=function G(V){return V instanceof RegExp||V instanceof Function},eJ=function G(){let V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(VJ&&VJ===V)return;if(!V||typeof V!=="object")V={};if(V=t(V),BJ=N0.indexOf(V.PARSER_MEDIA_TYPE)===-1?E0:V.PARSER_MEDIA_TYPE,O=BJ==="application/xhtml+xml"?QQ:NJ,P=p(V,"ALLOWED_TAGS")?w({},V.ALLOWED_TAGS,O):bQ,f=p(V,"ALLOWED_ATTR")?w({},V.ALLOWED_ATTR,O):CQ,tJ=p(V,"ALLOWED_NAMESPACES")?w({},V.ALLOWED_NAMESPACES,QQ):L0,oJ=p(V,"ADD_URI_SAFE_ATTR")?w(t(SQ),V.ADD_URI_SAFE_ATTR,O):SQ,fQ=p(V,"ADD_DATA_URI_TAGS")?w(t(hQ),V.ADD_DATA_URI_TAGS,O):hQ,ZJ=p(V,"FORBID_CONTENTS")?w({},V.FORBID_CONTENTS,O):OQ,YJ=p(V,"FORBID_TAGS")?w({},V.FORBID_TAGS,O):{},iJ=p(V,"FORBID_ATTR")?w({},V.FORBID_ATTR,O):{},KJ=p(V,"USE_PROFILES")?V.USE_PROFILES:!1,IQ=V.ALLOW_ARIA_ATTR!==!1,lJ=V.ALLOW_DATA_ATTR!==!1,DQ=V.ALLOW_UNKNOWN_PROTOCOLS||!1,MQ=V.ALLOW_SELF_CLOSE_IN_ATTR!==!1,QJ=V.SAFE_FOR_TEMPLATES||!1,cJ=V.SAFE_FOR_XML!==!1,r=V.WHOLE_DOCUMENT||!1,qJ=V.RETURN_DOM||!1,OJ=V.RETURN_DOM_FRAGMENT||!1,fJ=V.RETURN_TRUSTED_TYPE||!1,aJ=V.FORCE_BODY||!1,RQ=V.SANITIZE_DOM!==!1,PQ=V.SANITIZE_NAMED_PROPS||!1,nJ=V.KEEP_CONTENT!==!1,jJ=V.IN_PLACE||!1,vQ=V.ALLOWED_URI_REGEXP||eQ,$J=V.NAMESPACE||l,yJ=V.MATHML_TEXT_INTEGRATION_POINTS||yJ,xJ=V.HTML_INTEGRATION_POINTS||xJ,M=V.CUSTOM_ELEMENT_HANDLING||{},V.CUSTOM_ELEMENT_HANDLING&&yQ(V.CUSTOM_ELEMENT_HANDLING.tagNameCheck))M.tagNameCheck=V.CUSTOM_ELEMENT_HANDLING.tagNameCheck;if(V.CUSTOM_ELEMENT_HANDLING&&yQ(V.CUSTOM_ELEMENT_HANDLING.attributeNameCheck))M.attributeNameCheck=V.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;if(V.CUSTOM_ELEMENT_HANDLING&&typeof V.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements==="boolean")M.allowCustomizedBuiltInElements=V.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;if(QJ)lJ=!1;if(OJ)qJ=!0;if(KJ){if(P=w({},cQ),f=[],KJ.html===!0)w(P,lQ),w(f,sQ);if(KJ.svg===!0)w(P,qQ),w(f,$Q),w(f,gJ);if(KJ.svgFilters===!0)w(P,KQ),w(f,$Q),w(f,gJ);if(KJ.mathMl===!0)w(P,ZQ),w(f,aQ),w(f,gJ)}if(V.ADD_TAGS){if(P===bQ)P=t(P);w(P,V.ADD_TAGS,O)}if(V.ADD_ATTR){if(f===CQ)f=t(f);w(f,V.ADD_ATTR,O)}if(V.ADD_URI_SAFE_ATTR)w(oJ,V.ADD_URI_SAFE_ATTR,O);if(V.FORBID_CONTENTS){if(ZJ===OQ)ZJ=t(ZJ);w(ZJ,V.FORBID_CONTENTS,O)}if(nJ)P["#text"]=!0;if(r)w(P,["html","head","body"]);if(P.table)w(P,["tbody"]),delete YJ.tbody;if(V.TRUSTED_TYPES_POLICY){if(typeof V.TRUSTED_TYPES_POLICY.createHTML!=="function")throw UJ('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof V.TRUSTED_TYPES_POLICY.createScriptURL!=="function")throw UJ('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');R=V.TRUSTED_TYPES_POLICY,a=R.createHTML("")}else{if(R===void 0)R=Z1(I,$);if(R!==null&&typeof a==="string")a=R.createHTML("")}if(A)A(V);VJ=V},xQ=w({},[...qQ,...KQ,...s0]),AQ=w({},[...ZQ,...a0]),_0=function G(V){let Y=s(V);if(!Y||!Y.tagName)Y={namespaceURI:$J,tagName:"template"};let W=NJ(V.tagName),D=NJ(Y.tagName);if(!tJ[V.namespaceURI])return!1;if(V.namespaceURI===SJ){if(Y.namespaceURI===l)return W==="svg";if(Y.namespaceURI===hJ)return W==="svg"&&(D==="annotation-xml"||yJ[D]);return Boolean(xQ[W])}if(V.namespaceURI===hJ){if(Y.namespaceURI===l)return W==="math";if(Y.namespaceURI===SJ)return W==="math"&&xJ[D];return Boolean(AQ[W])}if(V.namespaceURI===l){if(Y.namespaceURI===SJ&&!xJ[D])return!1;if(Y.namespaceURI===hJ&&!yJ[D])return!1;return!AQ[W]&&(g0[W]||!xQ[W])}if(BJ==="application/xhtml+xml"&&tJ[V.namespaceURI])return!0;return!1},k=function G(V){WJ(Q.removed,{element:V});try{s(V).removeChild(V)}catch(Y){RJ(V)}},AJ=function G(V,Y){try{WJ(Q.removed,{attribute:Y.getAttributeNode(V),from:Y})}catch(W){WJ(Q.removed,{attribute:null,from:Y})}if(Y.removeAttribute(V),V==="is")if(qJ||OJ)try{k(Y)}catch(W){}else try{Y.setAttribute(V,"")}catch(W){}},LQ=function G(V){let Y=null,W=null;if(aJ)V="<remove></remove>"+V;else{let h=iQ(V,/^[\r\n\t ]+/);W=h&&h[0]}if(BJ==="application/xhtml+xml"&&$J===l)V='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+V+"</body></html>";let D=R?R.createHTML(V):V;if($J===l)try{Y=new H().parseFromString(D,BJ)}catch(h){}if(!Y||!Y.documentElement){Y=n.createDocument($J,"template",null);try{Y.documentElement.innerHTML=rJ?a:D}catch(h){}}let S=Y.body||Y.documentElement;if(V&&W)S.insertBefore(q.createTextNode(W),S.childNodes[0]||null);if($J===l)return O0.call(Y,r?"html":"body")[0];return r?Y.documentElement:S},gQ=function G(V){return o.call(V.ownerDocument||V,V,z.SHOW_ELEMENT|z.SHOW_COMMENT|z.SHOW_TEXT|z.SHOW_PROCESSING_INSTRUCTION|z.SHOW_CDATA_SECTION,null)},JQ=function G(V){return V instanceof C&&(typeof V.nodeName!=="string"||typeof V.textContent!=="string"||typeof V.removeChild!=="function"||!(V.attributes instanceof U)||typeof V.removeAttribute!=="function"||typeof V.setAttribute!=="function"||typeof V.namespaceURI!=="string"||typeof V.insertBefore!=="function"||typeof V.hasChildNodes!=="function")},NQ=function G(V){return typeof j==="function"&&V instanceof j};function c(G,V,Y){LJ(G,(W)=>{W.call(Q,V,Y,VJ)})}let EQ=function G(V){let Y=null;if(c(E.beforeSanitizeElements,V,null),JQ(V))return k(V),!0;let W=O(V.nodeName);if(c(E.uponSanitizeElement,V,{tagName:W,allowedTags:P}),V.hasChildNodes()&&!NQ(V.firstElementChild)&&x(/<[/\w]/g,V.innerHTML)&&x(/<[/\w]/g,V.textContent))return k(V),!0;if(V.nodeType===HJ.progressingInstruction)return k(V),!0;if(cJ&&V.nodeType===HJ.comment&&x(/<[/\w]/g,V.data))return k(V),!0;if(!P[W]||YJ[W]){if(!YJ[W]&&_Q(W)){if(M.tagNameCheck instanceof RegExp&&x(M.tagNameCheck,W))return!1;if(M.tagNameCheck instanceof Function&&M.tagNameCheck(W))return!1}if(nJ&&!ZJ[W]){let D=s(V)||V.parentNode,S=PJ(V)||V.childNodes;if(S&&D){let h=S.length;for(let N=h-1;N>=0;--N){let d=g(S[N],!0);d.__removalCount=(V.__removalCount||0)+1,D.insertBefore(d,XJ(V))}}}return k(V),!0}if(V instanceof B&&!_0(V))return k(V),!0;if((W==="noscript"||W==="noembed"||W==="noframes")&&x(/<\/no(script|embed|frames)/i,V.innerHTML))return k(V),!0;if(QJ&&V.nodeType===HJ.text){if(Y=V.textContent,LJ([pJ,kJ,dJ],(D)=>{Y=GJ(Y,D," ")}),V.textContent!==Y)WJ(Q.removed,{element:V.cloneNode()}),V.textContent=Y}return c(E.afterSanitizeElements,V,null),!1},uQ=function G(V,Y,W){if(RQ&&(Y==="id"||Y==="name")&&((W in q)||(W in u0)))return!1;if(lJ&&!iJ[Y]&&x(h0,Y));else if(IQ&&x(S0,Y));else if(!f[Y]||iJ[Y])if(_Q(V)&&(M.tagNameCheck instanceof RegExp&&x(M.tagNameCheck,V)||M.tagNameCheck instanceof Function&&M.tagNameCheck(V))&&(M.attributeNameCheck instanceof RegExp&&x(M.attributeNameCheck,Y)||M.attributeNameCheck instanceof Function&&M.attributeNameCheck(Y))||Y==="is"&&M.allowCustomizedBuiltInElements&&(M.tagNameCheck instanceof RegExp&&x(M.tagNameCheck,W)||M.tagNameCheck instanceof Function&&M.tagNameCheck(W)));else return!1;else if(oJ[Y]);else if(x(vQ,GJ(W,FQ,"")));else if((Y==="src"||Y==="xlink:href"||Y==="href")&&V!=="script"&&d0(W,"data:")===0&&fQ[V]);else if(DQ&&!x(y0,GJ(W,FQ,"")));else if(W)return!1;return!0},_Q=function G(V){return V!=="annotation-xml"&&iQ(V,x0)},mQ=function G(V){c(E.beforeSanitizeAttributes,V,null);let{attributes:Y}=V;if(!Y||JQ(V))return;let W={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:f,forceKeepAttr:void 0},D=Y.length;while(D--){let S=Y[D],{name:h,namespaceURI:N,value:d}=S,zJ=O(h),y=h==="value"?d:i0(d);if(W.attrName=zJ,W.attrValue=y,W.keepAttr=!0,W.forceKeepAttr=void 0,c(E.uponSanitizeAttribute,V,W),y=W.attrValue,PQ&&(zJ==="id"||zJ==="name"))AJ(h,V),y=A0+y;if(cJ&&x(/((--!?|])>)|<\/(style|title)/i,y)){AJ(h,V);continue}if(W.forceKeepAttr)continue;if(AJ(h,V),!W.keepAttr)continue;if(!MQ&&x(/\/>/i,y)){AJ(h,V);continue}if(QJ)LJ([pJ,kJ,dJ],(pQ)=>{y=GJ(y,pQ," ")});let TQ=O(V.nodeName);if(!uQ(TQ,zJ,y))continue;if(R&&typeof I==="object"&&typeof I.getAttributeType==="function")if(N);else switch(I.getAttributeType(TQ,zJ)){case"TrustedHTML":{y=R.createHTML(y);break}case"TrustedScriptURL":{y=R.createScriptURL(y);break}}try{if(N)V.setAttributeNS(N,h,y);else V.setAttribute(h,y);if(JQ(V))k(V);else dQ(Q.removed)}catch(pQ){}}c(E.afterSanitizeAttributes,V,null)},m0=function G(V){let Y=null,W=gQ(V);c(E.beforeSanitizeShadowDOM,V,null);while(Y=W.nextNode())if(c(E.uponSanitizeShadowNode,Y,null),EQ(Y),mQ(Y),Y.content instanceof Z)G(Y.content);c(E.afterSanitizeShadowDOM,V,null)};return Q.sanitize=function(G){let V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y=null,W=null,D=null,S=null;if(rJ=!G,rJ)G="<!-->";if(typeof G!=="string"&&!NQ(G))if(typeof G.toString==="function"){if(G=G.toString(),typeof G!=="string")throw UJ("dirty is not a string, aborting")}else throw UJ("toString is not a function");if(!Q.isSupported)return G;if(!sJ)eJ(V);if(Q.removed=[],typeof G==="string")jJ=!1;if(jJ){if(G.nodeName){let d=O(G.nodeName);if(!P[d]||YJ[d])throw UJ("root node is forbidden and cannot be sanitized in-place")}}else if(G instanceof j)if(Y=LQ("<!---->"),W=Y.ownerDocument.importNode(G,!0),W.nodeType===HJ.element&&W.nodeName==="BODY")Y=W;else if(W.nodeName==="HTML")Y=W;else Y.appendChild(W);else{if(!qJ&&!QJ&&!r&&G.indexOf("<")===-1)return R&&fJ?R.createHTML(G):G;if(Y=LQ(G),!Y)return qJ?null:fJ?a:""}if(Y&&aJ)k(Y.firstChild);let h=gQ(jJ?G:Y);while(D=h.nextNode())if(EQ(D),mQ(D),D.content instanceof Z)m0(D.content);if(jJ)return G;if(qJ){if(OJ){S=P0.call(Y.ownerDocument);while(Y.firstChild)S.appendChild(Y.firstChild)}else S=Y;if(f.shadowroot||f.shadowrootmode)S=f0.call(K,S,!0);return S}let N=r?Y.outerHTML:Y.innerHTML;if(r&&P["!doctype"]&&Y.ownerDocument&&Y.ownerDocument.doctype&&Y.ownerDocument.doctype.name&&x(J0,Y.ownerDocument.doctype.name))N="<!DOCTYPE "+Y.ownerDocument.doctype.name+`>
`+N;if(QJ)LJ([pJ,kJ,dJ],(d)=>{N=GJ(N,d," ")});return R&&fJ?R.createHTML(N):N},Q.setConfig=function(){let G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};eJ(G),sJ=!0},Q.clearConfig=function(){VJ=null,sJ=!1},Q.isValidAttribute=function(G,V,Y){if(!VJ)eJ({});let W=O(G),D=O(V);return uQ(W,D,Y)},Q.addHook=function(G,V){if(typeof V!=="function")return;WJ(E[G],V)},Q.removeHook=function(G){return dQ(E[G])},Q.removeHooks=function(G){E[G]=[]},Q.removeAllHooks=function(){E=oQ()},Q}var q0=Q0();function jQ(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var JJ=jQ();function Y0(J){JJ=J}var bJ={exec:()=>null};function b(J,Q=""){let q=typeof J==="string"?J:J.source,K={replace:($,Z)=>{let X=typeof Z==="string"?Z:Z.source;return X=X.replace(L.caret,"$1"),q=q.replace($,X),K},getRegex:()=>{return new RegExp(q,Q)}};return K}var L={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:(J)=>new RegExp(`^( {0,3}${J})((?:[\t ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:(J)=>new RegExp(`^ {0,${Math.min(3,J-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex:(J)=>new RegExp(`^ {0,${Math.min(3,J-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:(J)=>new RegExp(`^ {0,${Math.min(3,J-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:(J)=>new RegExp(`^ {0,${Math.min(3,J-1)}}#`),htmlBeginRegex:(J)=>new RegExp(`^ {0,${Math.min(3,J-1)}}<(?:[a-z].*>|!--)`,"i")},$1=/^(?:[ \t]*(?:\n|$))+/,V1=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,X1=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,MJ=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Y1=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,j0=/(?:[*+-]|\d{1,9}[.)])/,B0=b(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,j0).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),BQ=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,j1=/^[^\n]+/,zQ=/(?!\s*\])(?:\\.|[^\[\]\\])+/,B1=b(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",zQ).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),z1=b(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,j0).getRegex(),_J="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",WQ=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,W1=b("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",WQ).replace("tag",_J).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),z0=b(BQ).replace("hr",MJ).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_J).getRegex(),G1=b(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",z0).getRegex(),GQ={blockquote:G1,code:V1,def:B1,fences:X1,heading:Y1,hr:MJ,html:W1,lheading:B0,list:z1,newline:$1,paragraph:z0,table:bJ,text:j1},K0=b("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",MJ).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_J).getRegex(),U1={...GQ,table:K0,paragraph:b(BQ).replace("hr",MJ).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",K0).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_J).getRegex()},w1={...GQ,html:b(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",WQ).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:bJ,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:b(BQ).replace("hr",MJ).replace("heading",` *#{1,6} *[^
]`).replace("lheading",B0).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},H1=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,F1=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,W0=/^( {2,}|\\)\n(?!\s*$)/,v1=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,mJ=/[\p{P}\p{S}]/u,UQ=/[\s\p{P}\p{S}]/u,G0=/[^\s\p{P}\p{S}]/u,b1=b(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,UQ).getRegex(),U0=/(?!~)[\p{P}\p{S}]/u,C1=/(?!~)[\s\p{P}\p{S}]/u,I1=/(?:[^\s\p{P}\p{S}]|~)/u,D1=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,w0=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,M1=b(w0,"u").replace(/punct/g,mJ).getRegex(),R1=b(w0,"u").replace(/punct/g,U0).getRegex(),H0="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",P1=b(H0,"gu").replace(/notPunctSpace/g,G0).replace(/punctSpace/g,UQ).replace(/punct/g,mJ).getRegex(),O1=b(H0,"gu").replace(/notPunctSpace/g,I1).replace(/punctSpace/g,C1).replace(/punct/g,U0).getRegex(),f1=b("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,G0).replace(/punctSpace/g,UQ).replace(/punct/g,mJ).getRegex(),h1=b(/\\(punct)/,"gu").replace(/punct/g,mJ).getRegex(),S1=b(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),y1=b(WQ).replace("(?:-->|$)","-->").getRegex(),x1=b("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",y1).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),uJ=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,A1=b(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",uJ).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),F0=b(/^!?\[(label)\]\[(ref)\]/).replace("label",uJ).replace("ref",zQ).getRegex(),v0=b(/^!?\[(ref)\](?:\[\])?/).replace("ref",zQ).getRegex(),L1=b("reflink|nolink(?!\\()","g").replace("reflink",F0).replace("nolink",v0).getRegex(),wQ={_backpedal:bJ,anyPunctuation:h1,autolink:S1,blockSkip:D1,br:W0,code:F1,del:bJ,emStrongLDelim:M1,emStrongRDelimAst:P1,emStrongRDelimUnd:f1,escape:H1,link:A1,nolink:v0,punctuation:b1,reflink:F0,reflinkSearch:L1,tag:x1,text:v1,url:bJ},g1={...wQ,link:b(/^!?\[(label)\]\((.*?)\)/).replace("label",uJ).getRegex(),reflink:b(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",uJ).getRegex()},YQ={...wQ,emStrongRDelimAst:O1,emStrongLDelim:R1,url:b(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},N1={...YQ,br:b(W0).replace("{2,}","*").getRegex(),text:b(YQ.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},EJ={normal:GQ,gfm:U1,pedantic:w1},FJ={normal:wQ,gfm:YQ,breaks:N1,pedantic:g1},E1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Z0=(J)=>E1[J];function i(J,Q){if(Q){if(L.escapeTest.test(J))return J.replace(L.escapeReplace,Z0)}else if(L.escapeTestNoEncode.test(J))return J.replace(L.escapeReplaceNoEncode,Z0);return J}function $0(J){try{J=encodeURI(J).replace(L.percentDecode,"%")}catch{return null}return J}function V0(J,Q){let q=J.replace(L.findPipe,(Z,X,j)=>{let B=!1,z=X;while(--z>=0&&j[z]==="\\")B=!B;if(B)return"|";else return" |"}),K=q.split(L.splitPipe),$=0;if(!K[0].trim())K.shift();if(K.length>0&&!K.at(-1)?.trim())K.pop();if(Q)if(K.length>Q)K.splice(Q);else while(K.length<Q)K.push("");for(;$<K.length;$++)K[$]=K[$].trim().replace(L.slashPipe,"|");return K}function vJ(J,Q,q){let K=J.length;if(K===0)return"";let $=0;while($<K)if(J.charAt(K-$-1)===Q)$++;else break;return J.slice(0,K-$)}function u1(J,Q){if(J.indexOf(Q[1])===-1)return-1;let q=0;for(let K=0;K<J.length;K++)if(J[K]==="\\")K++;else if(J[K]===Q[0])q++;else if(J[K]===Q[1]){if(q--,q<0)return K}return-1}function X0(J,Q,q,K,$){let Z=Q.href,X=Q.title||null,j=J[1].replace($.other.outputLinkReplace,"$1");if(J[0].charAt(0)!=="!"){K.state.inLink=!0;let B={type:"link",raw:q,href:Z,title:X,text:j,tokens:K.inlineTokens(j)};return K.state.inLink=!1,B}return{type:"image",raw:q,href:Z,title:X,text:j}}function _1(J,Q,q){let K=J.match(q.other.indentCodeCompensation);if(K===null)return Q;let $=K[1];return Q.split(`
`).map((Z)=>{let X=Z.match(q.other.beginningSpace);if(X===null)return Z;let[j]=X;if(j.length>=$.length)return Z.slice($.length);return Z}).join(`
`)}class IJ{options;rules;lexer;constructor(J){this.options=J||JJ}space(J){let Q=this.rules.block.newline.exec(J);if(Q&&Q[0].length>0)return{type:"space",raw:Q[0]}}code(J){let Q=this.rules.block.code.exec(J);if(Q){let q=Q[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:Q[0],codeBlockStyle:"indented",text:!this.options.pedantic?vJ(q,`
`):q}}}fences(J){let Q=this.rules.block.fences.exec(J);if(Q){let q=Q[0],K=_1(q,Q[3]||"",this.rules);return{type:"code",raw:q,lang:Q[2]?Q[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):Q[2],text:K}}}heading(J){let Q=this.rules.block.heading.exec(J);if(Q){let q=Q[2].trim();if(this.rules.other.endingHash.test(q)){let K=vJ(q,"#");if(this.options.pedantic)q=K.trim();else if(!K||this.rules.other.endingSpaceChar.test(K))q=K.trim()}return{type:"heading",raw:Q[0],depth:Q[1].length,text:q,tokens:this.lexer.inline(q)}}}hr(J){let Q=this.rules.block.hr.exec(J);if(Q)return{type:"hr",raw:vJ(Q[0],`
`)}}blockquote(J){let Q=this.rules.block.blockquote.exec(J);if(Q){let q=vJ(Q[0],`
`).split(`
`),K="",$="",Z=[];while(q.length>0){let X=!1,j=[],B;for(B=0;B<q.length;B++)if(this.rules.other.blockquoteStart.test(q[B]))j.push(q[B]),X=!0;else if(!X)j.push(q[B]);else break;q=q.slice(B);let z=j.join(`
`),U=z.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");K=K?`${K}
${z}`:z,$=$?`${$}
${U}`:U;let C=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(U,Z,!0),this.lexer.state.top=C,q.length===0)break;let H=Z.at(-1);if(H?.type==="code")break;else if(H?.type==="blockquote"){let I=H,F=I.raw+`
`+q.join(`
`),g=this.blockquote(F);Z[Z.length-1]=g,K=K.substring(0,K.length-I.raw.length)+g.raw,$=$.substring(0,$.length-I.text.length)+g.text;break}else if(H?.type==="list"){let I=H,F=I.raw+`
`+q.join(`
`),g=this.list(F);Z[Z.length-1]=g,K=K.substring(0,K.length-H.raw.length)+g.raw,$=$.substring(0,$.length-I.raw.length)+g.raw,q=F.substring(Z.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:K,tokens:Z,text:$}}}list(J){let Q=this.rules.block.list.exec(J);if(Q){let q=Q[1].trim(),K=q.length>1,$={type:"list",raw:"",ordered:K,start:K?+q.slice(0,-1):"",loose:!1,items:[]};if(q=K?`\\d{1,9}\\${q.slice(-1)}`:`\\${q}`,this.options.pedantic)q=K?q:"[*+-]";let Z=this.rules.other.listItemRegex(q),X=!1;while(J){let B=!1,z="",U="";if(!(Q=Z.exec(J)))break;if(this.rules.block.hr.test(J))break;z=Q[0],J=J.substring(z.length);let C=Q[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,(XJ)=>" ".repeat(3*XJ.length)),H=J.split(`
`,1)[0],I=!C.trim(),F=0;if(this.options.pedantic)F=2,U=C.trimStart();else if(I)F=Q[1].length+1;else F=Q[2].search(this.rules.other.nonSpaceChar),F=F>4?1:F,U=C.slice(F),F+=Q[1].length;if(I&&this.rules.other.blankLine.test(H))z+=H+`
`,J=J.substring(H.length+1),B=!0;if(!B){let XJ=this.rules.other.nextBulletRegex(F),PJ=this.rules.other.hrRegex(F),s=this.rules.other.fencesBeginRegex(F),R=this.rules.other.headingBeginRegex(F),a=this.rules.other.htmlBeginRegex(F);while(J){let n=J.split(`
`,1)[0],o;if(H=n,this.options.pedantic)H=H.replace(this.rules.other.listReplaceNesting,"  "),o=H;else o=H.replace(this.rules.other.tabCharGlobal,"    ");if(s.test(H))break;if(R.test(H))break;if(a.test(H))break;if(XJ.test(H))break;if(PJ.test(H))break;if(o.search(this.rules.other.nonSpaceChar)>=F||!H.trim())U+=`
`+o.slice(F);else{if(I)break;if(C.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4)break;if(s.test(C))break;if(R.test(C))break;if(PJ.test(C))break;U+=`
`+H}if(!I&&!H.trim())I=!0;z+=n+`
`,J=J.substring(n.length+1),C=o.slice(F)}}if(!$.loose){if(X)$.loose=!0;else if(this.rules.other.doubleBlankLine.test(z))X=!0}let g=null,RJ;if(this.options.gfm){if(g=this.rules.other.listIsTask.exec(U),g)RJ=g[0]!=="[ ] ",U=U.replace(this.rules.other.listReplaceTask,"")}$.items.push({type:"list_item",raw:z,task:!!g,checked:RJ,loose:!1,text:U,tokens:[]}),$.raw+=z}let j=$.items.at(-1);if(j)j.raw=j.raw.trimEnd(),j.text=j.text.trimEnd();else return;$.raw=$.raw.trimEnd();for(let B=0;B<$.items.length;B++)if(this.lexer.state.top=!1,$.items[B].tokens=this.lexer.blockTokens($.items[B].text,[]),!$.loose){let z=$.items[B].tokens.filter((C)=>C.type==="space"),U=z.length>0&&z.some((C)=>this.rules.other.anyLine.test(C.raw));$.loose=U}if($.loose)for(let B=0;B<$.items.length;B++)$.items[B].loose=!0;return $}}html(J){let Q=this.rules.block.html.exec(J);if(Q)return{type:"html",block:!0,raw:Q[0],pre:Q[1]==="pre"||Q[1]==="script"||Q[1]==="style",text:Q[0]}}def(J){let Q=this.rules.block.def.exec(J);if(Q){let q=Q[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),K=Q[2]?Q[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",$=Q[3]?Q[3].substring(1,Q[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):Q[3];return{type:"def",tag:q,raw:Q[0],href:K,title:$}}}table(J){let Q=this.rules.block.table.exec(J);if(!Q)return;if(!this.rules.other.tableDelimiter.test(Q[2]))return;let q=V0(Q[1]),K=Q[2].replace(this.rules.other.tableAlignChars,"").split("|"),$=Q[3]?.trim()?Q[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],Z={type:"table",raw:Q[0],header:[],align:[],rows:[]};if(q.length!==K.length)return;for(let X of K)if(this.rules.other.tableAlignRight.test(X))Z.align.push("right");else if(this.rules.other.tableAlignCenter.test(X))Z.align.push("center");else if(this.rules.other.tableAlignLeft.test(X))Z.align.push("left");else Z.align.push(null);for(let X=0;X<q.length;X++)Z.header.push({text:q[X],tokens:this.lexer.inline(q[X]),header:!0,align:Z.align[X]});for(let X of $)Z.rows.push(V0(X,Z.header.length).map((j,B)=>{return{text:j,tokens:this.lexer.inline(j),header:!1,align:Z.align[B]}}));return Z}lheading(J){let Q=this.rules.block.lheading.exec(J);if(Q)return{type:"heading",raw:Q[0],depth:Q[2].charAt(0)==="="?1:2,text:Q[1],tokens:this.lexer.inline(Q[1])}}paragraph(J){let Q=this.rules.block.paragraph.exec(J);if(Q){let q=Q[1].charAt(Q[1].length-1)===`
`?Q[1].slice(0,-1):Q[1];return{type:"paragraph",raw:Q[0],text:q,tokens:this.lexer.inline(q)}}}text(J){let Q=this.rules.block.text.exec(J);if(Q)return{type:"text",raw:Q[0],text:Q[0],tokens:this.lexer.inline(Q[0])}}escape(J){let Q=this.rules.inline.escape.exec(J);if(Q)return{type:"escape",raw:Q[0],text:Q[1]}}tag(J){let Q=this.rules.inline.tag.exec(J);if(Q){if(!this.lexer.state.inLink&&this.rules.other.startATag.test(Q[0]))this.lexer.state.inLink=!0;else if(this.lexer.state.inLink&&this.rules.other.endATag.test(Q[0]))this.lexer.state.inLink=!1;if(!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(Q[0]))this.lexer.state.inRawBlock=!0;else if(this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(Q[0]))this.lexer.state.inRawBlock=!1;return{type:"html",raw:Q[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:Q[0]}}}link(J){let Q=this.rules.inline.link.exec(J);if(Q){let q=Q[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(q)){if(!this.rules.other.endAngleBracket.test(q))return;let Z=vJ(q.slice(0,-1),"\\");if((q.length-Z.length)%2===0)return}else{let Z=u1(Q[2],"()");if(Z>-1){let j=(Q[0].indexOf("!")===0?5:4)+Q[1].length+Z;Q[2]=Q[2].substring(0,Z),Q[0]=Q[0].substring(0,j).trim(),Q[3]=""}}let K=Q[2],$="";if(this.options.pedantic){let Z=this.rules.other.pedanticHrefTitle.exec(K);if(Z)K=Z[1],$=Z[3]}else $=Q[3]?Q[3].slice(1,-1):"";if(K=K.trim(),this.rules.other.startAngleBracket.test(K))if(this.options.pedantic&&!this.rules.other.endAngleBracket.test(q))K=K.slice(1);else K=K.slice(1,-1);return X0(Q,{href:K?K.replace(this.rules.inline.anyPunctuation,"$1"):K,title:$?$.replace(this.rules.inline.anyPunctuation,"$1"):$},Q[0],this.lexer,this.rules)}}reflink(J,Q){let q;if((q=this.rules.inline.reflink.exec(J))||(q=this.rules.inline.nolink.exec(J))){let K=(q[2]||q[1]).replace(this.rules.other.multipleSpaceGlobal," "),$=Q[K.toLowerCase()];if(!$){let Z=q[0].charAt(0);return{type:"text",raw:Z,text:Z}}return X0(q,$,q[0],this.lexer,this.rules)}}emStrong(J,Q,q=""){let K=this.rules.inline.emStrongLDelim.exec(J);if(!K)return;if(K[3]&&q.match(this.rules.other.unicodeAlphaNumeric))return;if(!(K[1]||K[2])||!q||this.rules.inline.punctuation.exec(q)){let Z=[...K[0]].length-1,X,j,B=Z,z=0,U=K[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;U.lastIndex=0,Q=Q.slice(-1*J.length+Z);while((K=U.exec(Q))!=null){if(X=K[1]||K[2]||K[3]||K[4]||K[5]||K[6],!X)continue;if(j=[...X].length,K[3]||K[4]){B+=j;continue}else if(K[5]||K[6]){if(Z%3&&!((Z+j)%3)){z+=j;continue}}if(B-=j,B>0)continue;j=Math.min(j,j+B+z);let C=[...K[0]][0].length,H=J.slice(0,Z+K.index+C+j);if(Math.min(Z,j)%2){let F=H.slice(1,-1);return{type:"em",raw:H,text:F,tokens:this.lexer.inlineTokens(F)}}let I=H.slice(2,-2);return{type:"strong",raw:H,text:I,tokens:this.lexer.inlineTokens(I)}}}}codespan(J){let Q=this.rules.inline.code.exec(J);if(Q){let q=Q[2].replace(this.rules.other.newLineCharGlobal," "),K=this.rules.other.nonSpaceChar.test(q),$=this.rules.other.startingSpaceChar.test(q)&&this.rules.other.endingSpaceChar.test(q);if(K&&$)q=q.substring(1,q.length-1);return{type:"codespan",raw:Q[0],text:q}}}br(J){let Q=this.rules.inline.br.exec(J);if(Q)return{type:"br",raw:Q[0]}}del(J){let Q=this.rules.inline.del.exec(J);if(Q)return{type:"del",raw:Q[0],text:Q[2],tokens:this.lexer.inlineTokens(Q[2])}}autolink(J){let Q=this.rules.inline.autolink.exec(J);if(Q){let q,K;if(Q[2]==="@")q=Q[1],K="mailto:"+q;else q=Q[1],K=q;return{type:"link",raw:Q[0],text:q,href:K,tokens:[{type:"text",raw:q,text:q}]}}}url(J){let Q;if(Q=this.rules.inline.url.exec(J)){let q,K;if(Q[2]==="@")q=Q[0],K="mailto:"+q;else{let $;do $=Q[0],Q[0]=this.rules.inline._backpedal.exec(Q[0])?.[0]??"";while($!==Q[0]);if(q=Q[0],Q[1]==="www.")K="http://"+Q[0];else K=Q[0]}return{type:"link",raw:Q[0],text:q,href:K,tokens:[{type:"text",raw:q,text:q}]}}}inlineText(J){let Q=this.rules.inline.text.exec(J);if(Q){let q=this.lexer.state.inRawBlock;return{type:"text",raw:Q[0],text:Q[0],escaped:q}}}}class m{tokens;options;state;tokenizer;inlineQueue;constructor(J){this.tokens=[],this.tokens.links=Object.create(null),this.options=J||JJ,this.options.tokenizer=this.options.tokenizer||new IJ,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let Q={other:L,block:EJ.normal,inline:FJ.normal};if(this.options.pedantic)Q.block=EJ.pedantic,Q.inline=FJ.pedantic;else if(this.options.gfm)if(Q.block=EJ.gfm,this.options.breaks)Q.inline=FJ.breaks;else Q.inline=FJ.gfm;this.tokenizer.rules=Q}static get rules(){return{block:EJ,inline:FJ}}static lex(J,Q){return new m(Q).lex(J)}static lexInline(J,Q){return new m(Q).inlineTokens(J)}lex(J){J=J.replace(L.carriageReturn,`
`),this.blockTokens(J,this.tokens);for(let Q=0;Q<this.inlineQueue.length;Q++){let q=this.inlineQueue[Q];this.inlineTokens(q.src,q.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(J,Q=[],q=!1){if(this.options.pedantic)J=J.replace(L.tabCharGlobal,"    ").replace(L.spaceLine,"");while(J){let K;if(this.options.extensions?.block?.some((Z)=>{if(K=Z.call({lexer:this},J,Q))return J=J.substring(K.raw.length),Q.push(K),!0;return!1}))continue;if(K=this.tokenizer.space(J)){J=J.substring(K.raw.length);let Z=Q.at(-1);if(K.raw.length===1&&Z!==void 0)Z.raw+=`
`;else Q.push(K);continue}if(K=this.tokenizer.code(J)){J=J.substring(K.raw.length);let Z=Q.at(-1);if(Z?.type==="paragraph"||Z?.type==="text")Z.raw+=`
`+K.raw,Z.text+=`
`+K.text,this.inlineQueue.at(-1).src=Z.text;else Q.push(K);continue}if(K=this.tokenizer.fences(J)){J=J.substring(K.raw.length),Q.push(K);continue}if(K=this.tokenizer.heading(J)){J=J.substring(K.raw.length),Q.push(K);continue}if(K=this.tokenizer.hr(J)){J=J.substring(K.raw.length),Q.push(K);continue}if(K=this.tokenizer.blockquote(J)){J=J.substring(K.raw.length),Q.push(K);continue}if(K=this.tokenizer.list(J)){J=J.substring(K.raw.length),Q.push(K);continue}if(K=this.tokenizer.html(J)){J=J.substring(K.raw.length),Q.push(K);continue}if(K=this.tokenizer.def(J)){J=J.substring(K.raw.length);let Z=Q.at(-1);if(Z?.type==="paragraph"||Z?.type==="text")Z.raw+=`
`+K.raw,Z.text+=`
`+K.raw,this.inlineQueue.at(-1).src=Z.text;else if(!this.tokens.links[K.tag])this.tokens.links[K.tag]={href:K.href,title:K.title};continue}if(K=this.tokenizer.table(J)){J=J.substring(K.raw.length),Q.push(K);continue}if(K=this.tokenizer.lheading(J)){J=J.substring(K.raw.length),Q.push(K);continue}let $=J;if(this.options.extensions?.startBlock){let Z=1/0,X=J.slice(1),j;if(this.options.extensions.startBlock.forEach((B)=>{if(j=B.call({lexer:this},X),typeof j==="number"&&j>=0)Z=Math.min(Z,j)}),Z<1/0&&Z>=0)$=J.substring(0,Z+1)}if(this.state.top&&(K=this.tokenizer.paragraph($))){let Z=Q.at(-1);if(q&&Z?.type==="paragraph")Z.raw+=`
`+K.raw,Z.text+=`
`+K.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=Z.text;else Q.push(K);q=$.length!==J.length,J=J.substring(K.raw.length);continue}if(K=this.tokenizer.text(J)){J=J.substring(K.raw.length);let Z=Q.at(-1);if(Z?.type==="text")Z.raw+=`
`+K.raw,Z.text+=`
`+K.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=Z.text;else Q.push(K);continue}if(J){let Z="Infinite loop on byte: "+J.charCodeAt(0);if(this.options.silent){console.error(Z);break}else throw new Error(Z)}}return this.state.top=!0,Q}inline(J,Q=[]){return this.inlineQueue.push({src:J,tokens:Q}),Q}inlineTokens(J,Q=[]){let q=J,K=null;if(this.tokens.links){let X=Object.keys(this.tokens.links);if(X.length>0){while((K=this.tokenizer.rules.inline.reflinkSearch.exec(q))!=null)if(X.includes(K[0].slice(K[0].lastIndexOf("[")+1,-1)))q=q.slice(0,K.index)+"["+"a".repeat(K[0].length-2)+"]"+q.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex)}}while((K=this.tokenizer.rules.inline.blockSkip.exec(q))!=null)q=q.slice(0,K.index)+"["+"a".repeat(K[0].length-2)+"]"+q.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);while((K=this.tokenizer.rules.inline.anyPunctuation.exec(q))!=null)q=q.slice(0,K.index)+"++"+q.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let $=!1,Z="";while(J){if(!$)Z="";$=!1;let X;if(this.options.extensions?.inline?.some((B)=>{if(X=B.call({lexer:this},J,Q))return J=J.substring(X.raw.length),Q.push(X),!0;return!1}))continue;if(X=this.tokenizer.escape(J)){J=J.substring(X.raw.length),Q.push(X);continue}if(X=this.tokenizer.tag(J)){J=J.substring(X.raw.length),Q.push(X);continue}if(X=this.tokenizer.link(J)){J=J.substring(X.raw.length),Q.push(X);continue}if(X=this.tokenizer.reflink(J,this.tokens.links)){J=J.substring(X.raw.length);let B=Q.at(-1);if(X.type==="text"&&B?.type==="text")B.raw+=X.raw,B.text+=X.text;else Q.push(X);continue}if(X=this.tokenizer.emStrong(J,q,Z)){J=J.substring(X.raw.length),Q.push(X);continue}if(X=this.tokenizer.codespan(J)){J=J.substring(X.raw.length),Q.push(X);continue}if(X=this.tokenizer.br(J)){J=J.substring(X.raw.length),Q.push(X);continue}if(X=this.tokenizer.del(J)){J=J.substring(X.raw.length),Q.push(X);continue}if(X=this.tokenizer.autolink(J)){J=J.substring(X.raw.length),Q.push(X);continue}if(!this.state.inLink&&(X=this.tokenizer.url(J))){J=J.substring(X.raw.length),Q.push(X);continue}let j=J;if(this.options.extensions?.startInline){let B=1/0,z=J.slice(1),U;if(this.options.extensions.startInline.forEach((C)=>{if(U=C.call({lexer:this},z),typeof U==="number"&&U>=0)B=Math.min(B,U)}),B<1/0&&B>=0)j=J.substring(0,B+1)}if(X=this.tokenizer.inlineText(j)){if(J=J.substring(X.raw.length),X.raw.slice(-1)!=="_")Z=X.raw.slice(-1);$=!0;let B=Q.at(-1);if(B?.type==="text")B.raw+=X.raw,B.text+=X.text;else Q.push(X);continue}if(J){let B="Infinite loop on byte: "+J.charCodeAt(0);if(this.options.silent){console.error(B);break}else throw new Error(B)}}return Q}}class DJ{options;parser;constructor(J){this.options=J||JJ}space(J){return""}code({text:J,lang:Q,escaped:q}){let K=(Q||"").match(L.notSpaceStart)?.[0],$=J.replace(L.endingNewline,"")+`
`;if(!K)return"<pre><code>"+(q?$:i($,!0))+`</code></pre>
`;return'<pre><code class="language-'+i(K)+'">'+(q?$:i($,!0))+`</code></pre>
`}blockquote({tokens:J}){return`<blockquote>
${this.parser.parse(J)}</blockquote>
`}html({text:J}){return J}heading({tokens:J,depth:Q}){return`<h${Q}>${this.parser.parseInline(J)}</h${Q}>
`}hr(J){return`<hr>
`}list(J){let{ordered:Q,start:q}=J,K="";for(let X=0;X<J.items.length;X++){let j=J.items[X];K+=this.listitem(j)}let $=Q?"ol":"ul",Z=Q&&q!==1?' start="'+q+'"':"";return"<"+$+Z+`>
`+K+"</"+$+`>
`}listitem(J){let Q="";if(J.task){let q=this.checkbox({checked:!!J.checked});if(J.loose)if(J.tokens[0]?.type==="paragraph"){if(J.tokens[0].text=q+" "+J.tokens[0].text,J.tokens[0].tokens&&J.tokens[0].tokens.length>0&&J.tokens[0].tokens[0].type==="text")J.tokens[0].tokens[0].text=q+" "+i(J.tokens[0].tokens[0].text),J.tokens[0].tokens[0].escaped=!0}else J.tokens.unshift({type:"text",raw:q+" ",text:q+" ",escaped:!0});else Q+=q+" "}return Q+=this.parser.parse(J.tokens,!!J.loose),`<li>${Q}</li>
`}checkbox({checked:J}){return"<input "+(J?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:J}){return`<p>${this.parser.parseInline(J)}</p>
`}table(J){let Q="",q="";for(let $=0;$<J.header.length;$++)q+=this.tablecell(J.header[$]);Q+=this.tablerow({text:q});let K="";for(let $=0;$<J.rows.length;$++){let Z=J.rows[$];q="";for(let X=0;X<Z.length;X++)q+=this.tablecell(Z[X]);K+=this.tablerow({text:q})}if(K)K=`<tbody>${K}</tbody>`;return`<table>
<thead>
`+Q+`</thead>
`+K+`</table>
`}tablerow({text:J}){return`<tr>
${J}</tr>
`}tablecell(J){let Q=this.parser.parseInline(J.tokens),q=J.header?"th":"td";return(J.align?`<${q} align="${J.align}">`:`<${q}>`)+Q+`</${q}>
`}strong({tokens:J}){return`<strong>${this.parser.parseInline(J)}</strong>`}em({tokens:J}){return`<em>${this.parser.parseInline(J)}</em>`}codespan({text:J}){return`<code>${i(J,!0)}</code>`}br(J){return"<br>"}del({tokens:J}){return`<del>${this.parser.parseInline(J)}</del>`}link({href:J,title:Q,tokens:q}){let K=this.parser.parseInline(q),$=$0(J);if($===null)return K;J=$;let Z='<a href="'+J+'"';if(Q)Z+=' title="'+i(Q)+'"';return Z+=">"+K+"</a>",Z}image({href:J,title:Q,text:q}){let K=$0(J);if(K===null)return i(q);J=K;let $=`<img src="${J}" alt="${q}"`;if(Q)$+=` title="${i(Q)}"`;return $+=">",$}text(J){return"tokens"in J&&J.tokens?this.parser.parseInline(J.tokens):("escaped"in J)&&J.escaped?J.text:i(J.text)}}class TJ{strong({text:J}){return J}em({text:J}){return J}codespan({text:J}){return J}del({text:J}){return J}html({text:J}){return J}text({text:J}){return J}link({text:J}){return""+J}image({text:J}){return""+J}br(){return""}}class T{options;renderer;textRenderer;constructor(J){this.options=J||JJ,this.options.renderer=this.options.renderer||new DJ,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new TJ}static parse(J,Q){return new T(Q).parse(J)}static parseInline(J,Q){return new T(Q).parseInline(J)}parse(J,Q=!0){let q="";for(let K=0;K<J.length;K++){let $=J[K];if(this.options.extensions?.renderers?.[$.type]){let X=$,j=this.options.extensions.renderers[X.type].call({parser:this},X);if(j!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(X.type)){q+=j||"";continue}}let Z=$;switch(Z.type){case"space":{q+=this.renderer.space(Z);continue}case"hr":{q+=this.renderer.hr(Z);continue}case"heading":{q+=this.renderer.heading(Z);continue}case"code":{q+=this.renderer.code(Z);continue}case"table":{q+=this.renderer.table(Z);continue}case"blockquote":{q+=this.renderer.blockquote(Z);continue}case"list":{q+=this.renderer.list(Z);continue}case"html":{q+=this.renderer.html(Z);continue}case"paragraph":{q+=this.renderer.paragraph(Z);continue}case"text":{let X=Z,j=this.renderer.text(X);while(K+1<J.length&&J[K+1].type==="text")X=J[++K],j+=`
`+this.renderer.text(X);if(Q)q+=this.renderer.paragraph({type:"paragraph",raw:j,text:j,tokens:[{type:"text",raw:j,text:j,escaped:!0}]});else q+=j;continue}default:{let X='Token with "'+Z.type+'" type was not found.';if(this.options.silent)return console.error(X),"";else throw new Error(X)}}}return q}parseInline(J,Q=this.renderer){let q="";for(let K=0;K<J.length;K++){let $=J[K];if(this.options.extensions?.renderers?.[$.type]){let X=this.options.extensions.renderers[$.type].call({parser:this},$);if(X!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes($.type)){q+=X||"";continue}}let Z=$;switch(Z.type){case"escape":{q+=Q.text(Z);break}case"html":{q+=Q.html(Z);break}case"link":{q+=Q.link(Z);break}case"image":{q+=Q.image(Z);break}case"strong":{q+=Q.strong(Z);break}case"em":{q+=Q.em(Z);break}case"codespan":{q+=Q.codespan(Z);break}case"br":{q+=Q.br(Z);break}case"del":{q+=Q.del(Z);break}case"text":{q+=Q.text(Z);break}default:{let X='Token with "'+Z.type+'" type was not found.';if(this.options.silent)return console.error(X),"";else throw new Error(X)}}}return q}}class CJ{options;block;constructor(J){this.options=J||JJ}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(J){return J}postprocess(J){return J}processAllTokens(J){return J}provideLexer(){return this.block?m.lex:m.lexInline}provideParser(){return this.block?T.parse:T.parseInline}}class b0{defaults=jQ();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=T;Renderer=DJ;TextRenderer=TJ;Lexer=m;Tokenizer=IJ;Hooks=CJ;constructor(...J){this.use(...J)}walkTokens(J,Q){let q=[];for(let K of J)switch(q=q.concat(Q.call(this,K)),K.type){case"table":{let $=K;for(let Z of $.header)q=q.concat(this.walkTokens(Z.tokens,Q));for(let Z of $.rows)for(let X of Z)q=q.concat(this.walkTokens(X.tokens,Q));break}case"list":{let $=K;q=q.concat(this.walkTokens($.items,Q));break}default:{let $=K;if(this.defaults.extensions?.childTokens?.[$.type])this.defaults.extensions.childTokens[$.type].forEach((Z)=>{let X=$[Z].flat(1/0);q=q.concat(this.walkTokens(X,Q))});else if($.tokens)q=q.concat(this.walkTokens($.tokens,Q))}}return q}use(...J){let Q=this.defaults.extensions||{renderers:{},childTokens:{}};return J.forEach((q)=>{let K={...q};if(K.async=this.defaults.async||K.async||!1,q.extensions)q.extensions.forEach(($)=>{if(!$.name)throw new Error("extension name required");if("renderer"in $){let Z=Q.renderers[$.name];if(Z)Q.renderers[$.name]=function(...X){let j=$.renderer.apply(this,X);if(j===!1)j=Z.apply(this,X);return j};else Q.renderers[$.name]=$.renderer}if("tokenizer"in $){if(!$.level||$.level!=="block"&&$.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let Z=Q[$.level];if(Z)Z.unshift($.tokenizer);else Q[$.level]=[$.tokenizer];if($.start){if($.level==="block")if(Q.startBlock)Q.startBlock.push($.start);else Q.startBlock=[$.start];else if($.level==="inline")if(Q.startInline)Q.startInline.push($.start);else Q.startInline=[$.start]}}if("childTokens"in $&&$.childTokens)Q.childTokens[$.name]=$.childTokens}),K.extensions=Q;if(q.renderer){let $=this.defaults.renderer||new DJ(this.defaults);for(let Z in q.renderer){if(!(Z in $))throw new Error(`renderer '${Z}' does not exist`);if(["options","parser"].includes(Z))continue;let X=Z,j=q.renderer[X],B=$[X];$[X]=(...z)=>{let U=j.apply($,z);if(U===!1)U=B.apply($,z);return U||""}}K.renderer=$}if(q.tokenizer){let $=this.defaults.tokenizer||new IJ(this.defaults);for(let Z in q.tokenizer){if(!(Z in $))throw new Error(`tokenizer '${Z}' does not exist`);if(["options","rules","lexer"].includes(Z))continue;let X=Z,j=q.tokenizer[X],B=$[X];$[X]=(...z)=>{let U=j.apply($,z);if(U===!1)U=B.apply($,z);return U}}K.tokenizer=$}if(q.hooks){let $=this.defaults.hooks||new CJ;for(let Z in q.hooks){if(!(Z in $))throw new Error(`hook '${Z}' does not exist`);if(["options","block"].includes(Z))continue;let X=Z,j=q.hooks[X],B=$[X];if(CJ.passThroughHooks.has(Z))$[X]=(z)=>{if(this.defaults.async)return Promise.resolve(j.call($,z)).then((C)=>{return B.call($,C)});let U=j.call($,z);return B.call($,U)};else $[X]=(...z)=>{let U=j.apply($,z);if(U===!1)U=B.apply($,z);return U}}K.hooks=$}if(q.walkTokens){let $=this.defaults.walkTokens,Z=q.walkTokens;K.walkTokens=function(X){let j=[];if(j.push(Z.call(this,X)),$)j=j.concat($.call(this,X));return j}}this.defaults={...this.defaults,...K}}),this}setOptions(J){return this.defaults={...this.defaults,...J},this}lexer(J,Q){return m.lex(J,Q??this.defaults)}parser(J,Q){return T.parse(J,Q??this.defaults)}parseMarkdown(J){return(q,K)=>{let $={...K},Z={...this.defaults,...$},X=this.onError(!!Z.silent,!!Z.async);if(this.defaults.async===!0&&$.async===!1)return X(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof q==="undefined"||q===null)return X(new Error("marked(): input parameter is undefined or null"));if(typeof q!=="string")return X(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(q)+", string expected"));if(Z.hooks)Z.hooks.options=Z,Z.hooks.block=J;let j=Z.hooks?Z.hooks.provideLexer():J?m.lex:m.lexInline,B=Z.hooks?Z.hooks.provideParser():J?T.parse:T.parseInline;if(Z.async)return Promise.resolve(Z.hooks?Z.hooks.preprocess(q):q).then((z)=>j(z,Z)).then((z)=>Z.hooks?Z.hooks.processAllTokens(z):z).then((z)=>Z.walkTokens?Promise.all(this.walkTokens(z,Z.walkTokens)).then(()=>z):z).then((z)=>B(z,Z)).then((z)=>Z.hooks?Z.hooks.postprocess(z):z).catch(X);try{if(Z.hooks)q=Z.hooks.preprocess(q);let z=j(q,Z);if(Z.hooks)z=Z.hooks.processAllTokens(z);if(Z.walkTokens)this.walkTokens(z,Z.walkTokens);let U=B(z,Z);if(Z.hooks)U=Z.hooks.postprocess(U);return U}catch(z){return X(z)}}}onError(J,Q){return(q)=>{if(q.message+=`
Please report this to https://github.com/markedjs/marked.`,J){let K="<p>An error occurred:</p><pre>"+i(q.message+"",!0)+"</pre>";if(Q)return Promise.resolve(K);return K}if(Q)return Promise.reject(q);throw q}}}var e=new b0;function v(J,Q){return e.parse(J,Q)}v.options=v.setOptions=function(J){return e.setOptions(J),v.defaults=e.defaults,Y0(v.defaults),v};v.getDefaults=jQ;v.defaults=JJ;v.use=function(...J){return e.use(...J),v.defaults=e.defaults,Y0(v.defaults),v};v.walkTokens=function(J,Q){return e.walkTokens(J,Q)};v.parseInline=e.parseInline;v.Parser=T;v.parser=T.parse;v.Renderer=DJ;v.TextRenderer=TJ;v.Lexer=m;v.lexer=m.lex;v.Tokenizer=IJ;v.Hooks=CJ;v.parse=v;var{options:d1,setOptions:i1,use:l1,walkTokens:c1,parseInline:s1}=v;var a1=T.parse,n1=m.lex;document.addEventListener("DOMContentLoaded",()=>{document.addEventListener("click",(J)=>{let Q=J.target;if(Q&&Q.id==="regenerate_answer"){J.preventDefault();let q=document.querySelectorAll('div[data-role="user"]'),K=q[q.length-1]?.textContent?.trim()||"";M0(K),R0(K)}if(Q&&Q.id==="prompt__submit"){J.preventDefault();let q=D0();HQ(q)}if(Q&&Q.tagName==="BUTTON"){J.preventDefault();let q=Q.textContent?.trim()||"";HQ(q)}})});var C0=document.getElementById("prompt__input");if(C0)C0.addEventListener("keydown",(J)=>{if(J.key==="Enter"){J.preventDefault();let Q=D0();HQ(Q)}});function HQ(J){if(J!=="")M0(J),R0(J)}function m1(){let J=document.querySelector('[data-role="system__logo"]');if(!J)return null;return J.cloneNode(!0)}function T1(){let J=document.querySelectorAll("a:not(#footprint__link)");for(let Q of J)Q.target="_blank"}function I0(){let J=document.querySelector("main");if(J)J.scrollTop=J.scrollHeight}function D0(){let J=document.getElementById("prompt__input");if(J){let{value:Q}=J;return J.value="",Q.trim()}return"Bonjour !"}async function p1(J){document.querySelector('[data-role="system__loading"]')?.remove();let q=document.querySelector("main > div:last-child");if(!q)return;q.classList.add("prose");let K=J.replace(/<br\/>/g,`

`).replace(/\n{3,}/g,`

`),$=q0.sanitize(K);q.innerHTML=await v.parse($),T1(),I0()}function M0(J){let Q=document.querySelector("main");if(!Q)return;let q=document.createElement("div");q.setAttribute("data-role","user"),q.classList.add("user"),q.textContent=J;let K=document.createElement("div");K.setAttribute("data-role","system");let $=document.createElement("div");$.classList.add("thinking"),K.appendChild($);let Z=m1(),X=document.createDocumentFragment();X.appendChild(q),X.appendChild(Z),X.appendChild(K),Q.appendChild(X),I0()}async function R0(J){document.getElementById("prompt__submit").disabled=!0;for(let Q of document.querySelectorAll("button"))Q.disabled=!0;try{let Q=window.location.pathname.substring(3),q=new URLSearchParams(window.location.search),K=q.get("config")||"",$=q.get("context")||"",Z=`/ai/${Q}?message=${encodeURIComponent(J)}&config=${encodeURIComponent(K)}&context=${encodeURIComponent($)}`,X=await fetch(Z,{method:"GET"});if(!X.body)throw new Error("Response body is null");let j=X.body.getReader(),B=new TextDecoder,z="";while(!0){let{done:U,value:C}=await j.read();if(U){let H=document.getElementById("disclaimer");if(H){let I=document.createElement("div");I.setAttribute("data-role","disclaimer"),I.textContent=H.value;let F=document.querySelector("main");if(F)F.appendChild(I)}break}z+=B.decode(C),p1(z)}console.log(z)}catch(Q){console.error(Q)}finally{document.getElementById("prompt__submit").disabled=!1;for(let Q of document.querySelectorAll("button"))Q.disabled=!1}}
