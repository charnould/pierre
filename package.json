{
  "author": "Charles-Henri ARNOULD <charnould@pierre-ia.org>",
  "license": "AGPL-3.0-only",
  "type": "module",
  "name": "pierre",
  "module": "app.ts",
  "scripts": {
    "――――――― BUILD COMMANDS ―――――――": "―――――――",
    "build:cb": "bun --env-file=.env.production run config/build.ts",
    "transpile": "bun build --entrypoints assets/default/scripts/*.ts --outdir assets/default/dist/js --minify --target browser --watch",
    "format": "bunx prettier '!**/*.js' '!assets/default/dist' --write . --plugin=prettier-plugin-embed --plugin=prettier-plugin-tailwindcss --plugin=prettier-plugin-sql",
    "lint": "bun run oxlint . --ignore-pattern='**/*.js' --fix --fix-suggestions",
    "css": "bunx @tailwindcss/cli@latest -i assets/default/tailwind/style.css -o assets/default/dist/css/style.css --minify --watch",
    "generate": "bun run ./utils/knowledge/_run.ts --community && git add -f knowledge/data.sqlite && git commit -m 'chore: update `community` knowledge database'",
    "――――――― LLM EVAL + TEST COMMANDS ―――――――": "―――――――",
    "eval:reranker": "NODE_ENV=production bun test eval-reranker --watch --timeout 30000",
    "eval:output": "NODE_ENV=production bun test generate-output --watch --timeout 30000",
    "eval:speed": "NODE_ENV=production bun test eval-speed --watch --timeout 30000",
    "eval:query": "NODE_ENV=production bun test eval-augment --watch --timeout 30000",
    "test:unit": "bun test unit --env-file=.env.production --preload ./utils/setup.ts",
    "test:e2e": "bun test e2e --timeout 60000 --env-file=.env.production --preload ./utils/setup.ts",
    "――――――― VERSION + START COMMANDS ―――――――": "―――――――",
    "dev": "DEBUG=true bun --env-file=.env.production --watch run app.ts",
    "start": "NODE_ENV=production bun run app.ts",
    "pierre:version": "bun run utils/update-pierre.ts",
    "pierre:config": "bun test check-config",
    "――――――― STAGING DEPLOYMENT COMMANDS ―――――――": "―――――――",
    "staging:logs": "bun --env-file=.env.staging run kamal app logs ",
    "staging:deploy": "bun --env-file=.env.staging run kamal deploy",
    "staging:console": "bun --env-file=.env.staging run kamal app exec -i bash",
    "――――――― PRODUCTION DEPLOYMENT COMMANDS ―――――――": "―――――――",
    "prod:logs": "bun --env-file=.env.production run kamal app logs",
    "prod:setup": "bun --env-file=.env.production run kamal setup",
    "prod:deploy": "bun --env-file=.env.production run kamal deploy",
    "prod:console": "bun --env-file=.env.production run kamal app exec -i bash"
  },
  "dependencies": {
    "@ai-sdk/anthropic": "^2.0.23",
    "@ai-sdk/cerebras": "^1.0.21",
    "@ai-sdk/cohere": "^2.0.12",
    "@ai-sdk/google": "^2.0.17",
    "@ai-sdk/groq": "^2.0.22",
    "@ai-sdk/huggingface": "^1.0.0-beta.3",
    "@ai-sdk/mistral": "^2.0.17",
    "@ai-sdk/openai": "^2.0.44",
    "@ai-sdk/togetherai": "^1.0.20",
    "@date-fns/tz": "^1.4.1",
    "@observablehq/plot": "^0.6.17",
    "ai": "^5.0.60",
    "arquero": "^8.0.3",
    "cron": "^4.3.3",
    "d3": "^7.9.0",
    "date-fns": "^4.1.0",
    "date-fns-tz": "^3.2.0",
    "dedent": "^1.7.0",
    "dompurify": "^3.2.7",
    "hono": "^4.9.10",
    "jsdom": "^27.0.0",
    "lodash": "^4.17.21",
    "mammoth": "^1.11.0",
    "marked": "^16.4.0",
    "natural": "^8.1.0",
    "prettier": "^3.6.2",
    "sqlite-vec": "^0.1.7-alpha.2",
    "sqlite-vec-darwin-arm64": "^0.1.7-alpha.2",
    "sqlite-vec-linux-x64": "^0.1.7-alpha.2",
    "stopwords-fr": "^0.3.0",
    "talisman": "^1.1.4",
    "tiktoken": "^1.0.22",
    "turndown": "^7.2.1",
    "xlsx": "https://cdn.sheetjs.com/xlsx-0.20.3/xlsx-0.20.3.tgz",
    "zod": "^4.1.12"
  },
  "devDependencies": {
    "@tailwindcss/cli": "^4.1.14",
    "@types/bun": "^1.2.23",
    "@types/lodash": "^4.17.20",
    "@types/turndown": "^5.0.5",
    "markdown-toc": "^1.2.0",
    "oxlint": "^1.20.0",
    "prettier-plugin-embed": "^0.5.0",
    "prettier-plugin-sql": "^0.19.2",
    "prettier-plugin-tailwindcss": "^0.6.14",
    "puppeteer": "^24.23.0",
    "tailwindcss": "^4.1.14",
    "typescript": "^5.9.3"
  },
  "prettier": {
    "singleQuote": true,
    "semi": false,
    "trailingComma": "none",
    "printWidth": 100
  }
}
