var G=!1,I,J;document.addEventListener("DOMContentLoaded",()=>{let j=document.createElement("style");j.innerText="#pierre-ia {margin: 0;z-index: 9997;cursor: pointer;font-family: system-ui, Segoe UI, Roboto, Ubuntu, Helvetica Neue, sans-serif;transition: transform .45s cubic-bezier(.215, .61, .355, 1);position: fixed;bottom: 24px;right: 24px;}#pierre-ia:hover {transform: scale(1.15);}#pierre-wrapper {z-index: 9998;justify-content: center;align-items: center;width: 100%;height: 100%;display: flex;position: fixed;inset: 0;background: rgba(0, 0, 0, 0.25);backdrop-filter: blur(0px);-webkit-backdrop-filter: blur(0px);will-change: backdrop-filter;}#pierre-iframe-container {position: relative;}#pierre-iframe {z-index: 9999;border-radius: 14px;width: 600px;border: none;height: 700px;background: white;box-shadow: 0 4px 12px rgba(0,0,0,0.08), 0 12px 28px rgba(0,0,0,0.12), 0 32px 64px rgba(0,0,0,0.18);will-change: transform, opacity;}#pierre-close {display: none;font-size: 24px;padding: 0;margin: 0;cursor: pointer;z-index: 10000;position: absolute;top: 24px;right: 24px;transition: opacity .2s ease;}.blur_in {animation: blur_in .35s forwards;}.blur_out {animation: blur_out .30s forwards;}.open_modal {animation: open_modal 300ms cubic-bezier(0.16, 1, 0.3, 1) forwards;transform-origin: center;}.close_modal {animation: close_modal 260ms cubic-bezier(0.16, 1, 0.3, 1) forwards;transform-origin: center;pointer-events: none;;}@keyframes blur_in {from {backdrop-filter: blur(0px);-webkit-backdrop-filter: blur(0px);}to {backdrop-filter: blur(6px);-webkit-backdrop-filter: blur(6px);}}@keyframes blur_out {from {backdrop-filter: blur(6px);-webkit-backdrop-filter: blur(6px);}to {backdrop-filter: blur(0px);-webkit-backdrop-filter: blur(0px);}}@keyframes open_modal {0% {opacity: 0;transform: scale(0.50);}60% {opacity: 1;transform: scale(1.03);;}100% {opacity: 1;transform: scale(1);}}@keyframes close_modal {0% {opacity: 1;transform: scale(1);}40% {opacity: 1;transform: scale(1.03);}100% {opacity: 0;transform: scale(0.50);}}@media (max-width:600px) {#pierre-iframe {box-shadow: none;border-radius: 0;width: 100vw;height: 100vh }#pierre-close {display: block }}",document.head.appendChild(j);let q=document.getElementById("pierre-ia");I=q?.dataset.configuration??"default",J=q?.dataset.url??"https://assistant.pierre-ia.org";let z=document.createElement("iframe");z.src=`${J}/?config=${I}`,z.style.display="none",z.id="pierre-iframe",document.body.appendChild(z)});document.addEventListener("click",(j)=>{if(!document.getElementById("pierre-ia"))return;if(j.target?.id==="pierre-ia"){let z=document.createElement("div");z.id="pierre-wrapper",z.className="blur_in";let E=document.createElement("div");E.id="pierre-iframe-container";let B=document.getElementById("pierre-iframe");if(!B)return;B.style.display="unset",B.className="open_modal";let F=document.createElement("p");F.id="pierre-close",F.textContent="âœ•",E.append(F,B),z.appendChild(E),document.body.appendChild(z),G=!0}if(j.target?.id==="pierre-wrapper"||j.target?.id==="pierre-close")K()});document.addEventListener("keydown",(j)=>{if(G&&j.key==="Escape")K()});var K=()=>{document.getElementById("pierre-close")?.remove();let j=document.getElementById("pierre-wrapper"),q=document.getElementById("pierre-iframe");if(!j||!q)return;j.className="blur_out",q.className="close_modal",setTimeout(()=>{q.style.display="none",q.className="",document.body.appendChild(q),j.remove(),G=!1},350)};
